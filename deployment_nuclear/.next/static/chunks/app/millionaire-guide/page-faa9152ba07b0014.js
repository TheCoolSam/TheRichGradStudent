(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[749],{28328:function(e,r,t){Promise.resolve().then(t.bind(t,37573))},37573:function(e,r,t){"use strict";t.d(r,{default:function(){return p}});var a=t(57437),s=t(2265),o=t(99376),n=t(97082),i=t(1837),l=t(47505);t(36556);var d=t(63419);let c={cardNode:function(e){let{data:r}=e,t=(0,o.useRouter)(),[i,l]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=()=>l(window.innerWidth<640);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let c=e=>{e.stopPropagation(),t.push("/".concat(r.slug))},u=((e,r)=>{switch("pro"===e&&r?"pro-".concat(r):e){case"new":return{gradient:"from-blue-600/20 via-blue-500/15 to-blue-600/20",border:"border-blue-400",shadow:"shadow-blue-500/50",glow:"rgba(59, 130, 246, 0.5)"};case"everyday":return{gradient:"from-green-600/20 via-green-500/15 to-green-600/20",border:"border-green-400",shadow:"shadow-green-500/50",glow:"rgba(34, 197, 94, 0.5)"};case"travel":return{gradient:"from-yellow-600/20 via-yellow-500/15 to-yellow-600/20",border:"border-yellow-400",shadow:"shadow-yellow-500/50",glow:"rgba(234, 179, 8, 0.5)"};case"pro-business":return{gradient:"from-purple-600/20 via-purple-500/15 to-purple-600/20",border:"border-purple-400",shadow:"shadow-purple-500/50",glow:"rgba(168, 85, 247, 0.5)"};case"pro-luxury":return{gradient:"from-red-600/20 via-red-500/15 to-red-600/20",border:"border-red-400",shadow:"shadow-red-500/50",glow:"rgba(239, 68, 68, 0.5)"};default:return{gradient:"from-gray-700/20 via-gray-600/15 to-gray-700/20",border:"border-gray-400",shadow:"shadow-gray-500/50",glow:"rgba(156, 163, 175, 0.5)"}}})(r.category,r.subCategory);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.HH,{type:"target",position:n.Ly.Top,className:"opacity-0"}),(0,a.jsxs)("div",{className:"block group",onClick:c,onTouchEnd:c,children:[(0,a.jsxs)("div",{className:"bg-gradient-to-br ".concat(u.gradient," rounded-2xl shadow-2xl ").concat(u.shadow," overflow-hidden border-4 ").concat(u.border," hover:border-white hover:scale-110 transition-all duration-300 cursor-pointer backdrop-blur-sm relative"),style:{width:i?160:280,height:i?100:175},children:[(0,a.jsx)("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300",style:{boxShadow:"inset 0 0 30px ".concat(u.glow)}}),(0,a.jsx)("div",{className:"w-full h-full relative",style:{aspectRatio:"16/10"},children:(0,a.jsx)("img",{src:(0,d.u)(r.image).width(560).height(350).quality(90).fit("fill").url(),alt:r.name,className:"w-full h-full object-contain mix-blend-lighten p-3 group-hover:scale-105 transition-transform duration-300",style:{filter:"drop-shadow(0 0 15px ".concat(u.glow,")")}})})]}),(0,a.jsx)("div",{className:"text-center mt-2 px-2",children:(0,a.jsx)("p",{className:"text-white font-semibold text-xs sm:text-sm line-clamp-2",children:r.name})})]}),(0,a.jsx)(n.HH,{type:"source",position:n.Ly.Bottom,className:"opacity-0"})]})}};function u(e){return"string"==typeof e?e:e.current}function g(e,r){switch("pro"===e&&r?"pro-".concat(r):e){case"new":return"#3b82f6";case"everyday":return"#22c55e";case"travel":return"#eab308";case"pro-business":return"#a855f7";case"pro-luxury":return"#ef4444";default:return"#00ff88"}}function h(e){return e.pointsProgram&&e.pointsProgram.name?e.pointsProgram.name:e.pointsProgramName?e.pointsProgramName:e.issuer||"Other"}function p(e){let{cards:r}=e,[t,o,d]=(0,n.Rr)([]),[p,m,b]=(0,n.ll)([]),[f,y]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let e=()=>y(window.innerWidth<640);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.useEffect)(()=>{if(!r||0===r.length)return;let e={new:0,everyday:400,travel:800,"pro-business":1200,"pro-luxury":1600},t=Array.from(new Set(r.map(e=>h(e)))).sort(),a={};Object.keys(e).forEach(e=>{a[e]={},t.forEach(r=>{a[e][r]=[]})}),r.forEach(e=>{let r="pro"===e.category&&e.subCategory?"pro-".concat(e.subCategory):e.category,t=h(e);a[r]&&a[r][t]&&a[r][t].push(e)});let s=[],i=f?250:450,l=f?50:150;t.forEach((r,t)=>{let o=0+t*(i+l);r&&s.push({id:"label-".concat(r),type:"default",position:{x:o+i/2-100,y:-100},data:{label:r},style:{background:"transparent",color:"#fff",border:"none",fontWeight:"bold",fontSize:"24px",width:200,textAlign:"center",fontFamily:"var(--font-heading)"},draggable:!1}),Object.keys(e).forEach(t=>{let n=a[t][r];if(0===n.length)return;let l=f?160:300;n.length,n.forEach((r,a)=>{let d=o+i/2-(f?80:140),c=(a-(n.length-1)/2)*l;s.push({id:r._id,type:"cardNode",position:{x:d+c,y:e[t]+(a%2==1?80:0)},data:{name:r.name,slug:u(r.slug),image:r.image,issuer:r.issuer,pointsProgram:r.pointsProgramName,category:r.category,subCategory:r.subCategory},draggable:!f})})})});let d=[];r.forEach(e=>{e.relatedCardsSlugs&&Array.isArray(e.relatedCardsSlugs)&&e.relatedCardsSlugs.length>0&&e.relatedCardsSlugs.forEach(t=>{if(!t)return;let a=r.find(e=>u(e.slug)===t);if(a){let r="pro"===e.category&&e.subCategory?"pro-".concat(e.subCategory):e.category,t="pro"===a.category&&a.subCategory?"pro-".concat(a.subCategory):a.category,s=["new","everyday","travel","pro-business","pro-luxury"];if(1===Math.abs(s.indexOf(r)-s.indexOf(t))){let r=g(a.category,a.subCategory);d.push({id:"".concat(e._id,"-").concat(a._id),source:e._id,target:a._id,type:"smoothstep",animated:!0,style:{stroke:r,strokeWidth:4},markerEnd:{type:n.QZ.ArrowClosed,color:r,width:30,height:30}})}}})}),t.forEach(e=>{let r=["new","everyday","travel","pro-business","pro-luxury"];r.forEach((t,s)=>{var o,i;let l=r[s+1];if(!l)return;let c=(null===(o=a[t])||void 0===o?void 0:o[e])||[],u=(null===(i=a[l])||void 0===i?void 0:i[e])||[];0!==c.length&&0!==u.length&&c.forEach(e=>{u.forEach(r=>{if(!d.some(t=>t.source===e._id&&t.target===r._id)){let t=g(r.category,r.subCategory);d.push({id:"auto-".concat(e._id,"-").concat(r._id),source:e._id,target:r._id,type:"smoothstep",animated:!0,style:{stroke:t,strokeWidth:3,opacity:.8},markerEnd:{type:n.QZ.ArrowClosed,color:t,width:25,height:25}})}})})})}),o(s),m(d)},[r,f,o,m]),(0,a.jsx)("div",{className:"w-full h-[800px] sm:h-[1000px] bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl overflow-hidden shadow-2xl border-2 border-rgs-green/30",children:(0,a.jsxs)(n.x$,{nodes:t,edges:p,onNodesChange:d,onEdgesChange:b,nodeTypes:c,fitView:!0,minZoom:.3,maxZoom:1.5,defaultViewport:{x:0,y:0,zoom:.7},className:"bg-gradient-to-br from-gray-900 via-gray-800 to-rgs-dark-green/20",children:[(0,a.jsx)(i.A,{color:"#00ff88",gap:16,size:1}),(0,a.jsx)(l.Z,{className:"bg-rgs-black/80 border border-rgs-green/50"}),(0,a.jsx)(n.s_,{position:"top-left",className:"bg-rgs-black/90 backdrop-blur-sm p-4 rounded-lg border border-rgs-green/50 m-4",children:(0,a.jsxs)("div",{className:"space-y-2 text-xs sm:text-sm",children:[(0,a.jsx)("div",{className:"text-white font-bold mb-2 text-sm sm:text-base",children:"Experience Levels"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-blue-400 rounded"}),(0,a.jsx)("span",{className:"text-white/90",children:"I'm New Here"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-green-400 rounded"}),(0,a.jsx)("span",{className:"text-white/90",children:"Everyday Earning"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-yellow-400 rounded"}),(0,a.jsx)("span",{className:"text-white/90",children:"Travel Cards"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-purple-400 rounded"}),(0,a.jsx)("span",{className:"text-white/90",children:"Pro - Business"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-red-400 rounded"}),(0,a.jsx)("span",{className:"text-white/90",children:"Pro - Luxury"})]})]})}),(0,a.jsx)(n.s_,{position:"bottom-right",className:"bg-rgs-black/90 backdrop-blur-sm p-3 rounded-lg border border-rgs-green/50 m-4",children:(0,a.jsxs)("p",{className:"text-white/80 text-xs sm:text-sm",children:[(0,a.jsx)("span",{className:"text-rgs-light-green font-bold",children:"\uD83D\uDCA1 Tip:"})," Click any card to view details"]})})]})})}},63419:function(e,r,t){"use strict";t.d(r,{u:function(){return l}});var a=t(3740),s=t.n(a),o=t(99379);t(25566);let n=(0,o.eI)({projectId:"92vz1asq",dataset:"production",apiVersion:"2024-01-01",useCdn:!0}),i=s()(n);function l(e){return i.image(e).auto("format").fit("max")}}},function(e){e.O(0,[627,780,563,743,971,117,744],function(){return e(e.s=28328)}),_N_E=e.O()}]);
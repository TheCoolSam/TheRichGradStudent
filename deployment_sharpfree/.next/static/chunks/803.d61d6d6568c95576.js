"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[803],{11803:function(e,t,r){r.r(t),r.d(t,{default:function(){return u}});var n=r(6301),o=r(25096),s=r(74951),l=r(99376),a=r(2265),c=r(52141),i=r(35992);function u(e){let{projectId:t,dataset:r,draftModeEnabled:u,draftModePerspective:p}=e,f=(0,l.useRouter)();(0,a.useEffect)(()=>{(0,i.Qs)(t,r)},[r,t]);let d=(0,c.i)((e,t)=>{u&&e!==p&&(0,o.N)(e).then(()=>{t.aborted||f.refresh()}).catch(e=>console.error("Failed to set the preview perspective cookie",e))});return(0,a.useEffect)(()=>{let e;let t=(0,n.dS)({name:"loaders",connectTo:"presentation"},(0,n.zB)().provide({actors:(0,s.XP)()}));t.on("loader/perspective",t=>{e?.abort(),e=new AbortController,d(t.perspective,e.signal)});let r=t.start();return(0,i.re)(t),()=>{r()}},[]),null}u.displayName="PresentationComlink"}}]);
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[762],{30166:function(e,t,n){n.d(t,{default:function(){return s.a}});var r=n(55775),s=n.n(r)},33145:function(e,t,n){n.d(t,{default:function(){return s.a}});var r=n(48461),s=n.n(r)},27648:function(e,t,n){n.d(t,{default:function(){return s.a}});var r=n(72972),s=n.n(r)},99376:function(e,t,n){var r=n(35475);n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}}),n.o(r,"useSearchParams")&&n.d(t,{useSearchParams:function(){return r.useSearchParams}})},12119:function(e,t,n){Object.defineProperty(t,"$",{enumerable:!0,get:function(){return s}});let r=n(83079);function s(e){let{createServerReference:t}=n(6671);return t(e,r.callServer)}},55775:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let r=n(47043);n(57437),n(2265);let s=r._(n(15602));function i(e,t){var n;let r={loading:e=>{let{error:t,isLoading:n,pastDelay:r}=e;return null}};"function"==typeof e&&(r.loader=e);let i={...r,...t};return(0,s.default)({...i,modules:null==(n=i.loadableGenerated)?void 0:n.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},48461:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return u},getImageProps:function(){return a}});let r=n(47043),s=n(55346),i=n(65878),o=r._(n(5084));function a(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,n]of Object.entries(t))void 0===n&&delete t[e];return{props:t}}let u=i.Image},81523:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return s}});let r=n(18993);function s(e){let{reason:t,children:n}=e;if("undefined"==typeof window)throw new r.BailoutToCSRError(t);return n}},15602:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});let r=n(57437),s=n(2265),i=n(81523),o=n(70049);function a(e){return{default:e&&"default"in e?e.default:e}}let u={loader:()=>Promise.resolve(a(()=>null)),loading:null,ssr:!0},c=function(e){let t={...u,...e},n=(0,s.lazy)(()=>t.loader().then(a)),c=t.loading;function l(e){let a=c?(0,r.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,u=t.ssr?(0,r.jsxs)(r.Fragment,{children:["undefined"==typeof window?(0,r.jsx)(o.PreloadCss,{moduleIds:t.modules}):null,(0,r.jsx)(n,{...e})]}):(0,r.jsx)(i.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(n,{...e})});return(0,r.jsx)(s.Suspense,{fallback:a,children:u})}return l.displayName="LoadableComponent",l}},70049:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return i}});let r=n(57437),s=n(20544);function i(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let n=(0,s.getExpectedRequestStore)("next/dynamic css"),i=[];if(n.reactLoadableManifest&&t){let e=n.reactLoadableManifest;for(let n of t){if(!e[n])continue;let t=e[n].files.filter(e=>e.endsWith(".css"));i.push(...t)}}return 0===i.length?null:(0,r.jsx)(r.Fragment,{children:i.map(e=>(0,r.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:n.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},40211:function(e,t,n){n.d(t,{E9:function(){return a},Y$:function(){return l},ah:function(){return g},p4:function(){return p}});var r,s,i=n(79750);let o=new WeakMap;function a(e){return{config:e,start:(t,n)=>{let{self:r,system:s,emit:i}=n,a={receivers:void 0,dispose:void 0};o.set(r,a),a.dispose=e({input:t.input,system:s,self:r,sendBack:e=>{"stopped"!==r.getSnapshot().status&&r._parent&&s._relay(r,r._parent,e)},receive:e=>{a.receivers??=new Set,a.receivers.add(e)},emit:i})},transition:(e,t,n)=>{let r=o.get(n.self);return t.type===i.X?(e={...e,status:"stopped",error:void 0},o.delete(n.self),r.receivers?.clear(),r.dispose?.()):r.receivers?.forEach(e=>e(t)),e},getInitialSnapshot:(e,t)=>({status:"active",output:void 0,error:void 0,input:t}),getPersistedSnapshot:e=>e,restoreSnapshot:e=>e}}let u="xstate.observable.error",c="xstate.observable.complete";function l(e){return{config:e,transition:(e,t)=>{if("active"!==e.status)return e;switch(t.type){case u:return{...e,status:"error",error:t.data,input:void 0,_subscription:void 0};case c:return{...e,status:"done",input:void 0,_subscription:void 0};case i.X:return e._subscription.unsubscribe(),{...e,status:"stopped",input:void 0,_subscription:void 0};default:return e}},getInitialSnapshot:(e,t)=>({status:"active",output:void 0,error:void 0,context:void 0,input:t,_subscription:void 0}),start:(t,{self:n,system:r,emit:s})=>{"done"!==t.status&&(t._subscription=e({input:t.input,system:r,self:n,emit:s}).subscribe({next:e=>{n._parent&&r._relay(n,n._parent,e)},error:e=>{r._relay(n,n,{type:u,data:e})},complete:()=>{r._relay(n,n,{type:c})}}))},getPersistedSnapshot:({_subscription:e,...t})=>t,restoreSnapshot:e=>({...e,_subscription:void 0})}}let d="xstate.promise.resolve",h="xstate.promise.reject",f=new WeakMap;function p(e){return{config:e,transition:(e,t,n)=>{if("active"!==e.status)return e;switch(t.type){case d:{let n=t.data;return{...e,status:"done",output:n,input:void 0}}case h:return{...e,status:"error",error:t.data,input:void 0};case i.X:return f.get(n.self)?.abort(),f.delete(n.self),{...e,status:"stopped",input:void 0};default:return e}},start:(t,{self:n,system:r,emit:s})=>{if("active"!==t.status)return;let i=new AbortController;f.set(n,i),Promise.resolve(e({input:t.input,system:r,self:n,signal:i.signal,emit:s})).then(e=>{"active"===n.getSnapshot().status&&(f.delete(n),r._relay(n,n,{type:d,data:e}))},e=>{"active"===n.getSnapshot().status&&(f.delete(n),r._relay(n,n,{type:h,data:e}))})},getInitialSnapshot:(e,t)=>({status:"active",output:void 0,error:void 0,input:t}),getPersistedSnapshot:e=>e,restoreSnapshot:e=>e}}let y=(s=void 0,{config:r=e=>void 0,transition:(e,t,n)=>({...e,context:r(e.context,t,n)}),getInitialSnapshot:(e,t)=>({status:"active",output:void 0,error:void 0,context:"function"==typeof s?s({input:t}):s}),getPersistedSnapshot:e=>e,restoreSnapshot:e=>e});function g(){return(0,i.c)(y)}},3157:function(e,t,n){n.d(t,{a:function(){return i}});var r=n(79750);function s(e,t,n,s,{assignment:i}){if(!t.context)throw Error("Cannot assign to undefined `context`. Ensure that `context` is defined in the machine config.");let o={},a={context:t.context,event:n.event,spawn:function(e,{machine:t,context:n},s,i){let o=(o,a)=>{if("string"!=typeof o)return(0,r.c)(o,{id:a?.id,parent:e.self,syncSnapshot:a?.syncSnapshot,input:a?.input,src:o,systemId:a?.systemId});{let u=(0,r.T)(t,o);if(!u)throw Error(`Actor logic '${o}' not implemented in machine '${t.id}'`);let c=(0,r.c)(u,{id:a?.id,parent:e.self,syncSnapshot:a?.syncSnapshot,input:"function"==typeof a?.input?a.input({context:n,event:s,self:e.self}):a?.input,src:o,systemId:a?.systemId});return i[c.id]=c,c}};return(t,n)=>{let s=o(t,n);return i[s.id]=s,e.defer(()=>{s._processingStatus!==r.W.Stopped&&s.start()}),s}}(e,t,n.event,o),self:e.self,system:e.system},u={};if("function"==typeof i)u=i(a,s);else for(let e of Object.keys(i)){let t=i[e];u[e]="function"==typeof t?t(a,s):t}let c=Object.assign({},t.context,u);return[(0,r.Y)(t,{context:c,children:Object.keys(o).length?{...t.children,...o}:t.children}),void 0,void 0]}function i(e){function t(e,t){}return t.type="xstate.assign",t.assignment=e,t.resolve=s,t}},97817:function(e,t,n){n.d(t,{a:function(){return u},b:function(){return p},e:function(){return g},l:function(){return b},s:function(){return f}});var r,s=n(79750),i=n(3157);function o(e,t,n,r,{event:s}){return[t,{event:"function"==typeof s?s(n,r):s},void 0]}function a(e,{event:t}){e.defer(()=>e.emit(t))}function u(e){function t(e,t){}return t.type="xstate.emit",t.event=e,t.resolve=o,t.execute=a,t}let c=((r={}).Parent="#_parent",r.Internal="#_internal",r);function l(e,t,n,r,{to:s,event:i,id:o,delay:a},u){let l,d;let h=t.machine.implementations.delays;if("string"==typeof i)throw Error(`Only event objects may be used with sendTo; use sendTo({ type: "${i}" }) instead`);let f="function"==typeof i?i(n,r):i;if("string"==typeof a){let e=h&&h[a];l="function"==typeof e?e(n,r):e}else l="function"==typeof a?a(n,r):a;let p="function"==typeof s?s(n,r):s;if("string"==typeof p){if(!(d=p===c.Parent?e.self._parent:p===c.Internal?e.self:p.startsWith("#_")?t.children[p.slice(2)]:u.deferredActorIds?.includes(p)?p:t.children[p]))throw Error(`Unable to send event to actor '${p}' from machine '${t.machine.id}'.`)}else d=p||e.self;return[t,{to:d,targetId:"string"==typeof p?p:void 0,event:f,id:o,delay:l},void 0]}function d(e,t,n){"string"==typeof n.to&&(n.to=t.children[n.to])}function h(e,t){e.defer(()=>{let{to:n,event:r,delay:i,id:o}=t;if("number"==typeof i){e.system.scheduler.schedule(e.self,n,r,i,o);return}e.system._relay(e.self,n,r.type===s.U?(0,s.V)(e.self.id,r.data):r)})}function f(e,t,n){function r(e,t){}return r.type="xstate.sendTo",r.to=e,r.event=t,r.id=n?.id,r.delay=n?.delay,r.resolve=l,r.retryResolve=d,r.execute=h,r}function p(e,t){return f(c.Parent,e,t)}function y(e,t,n,r,{collect:o}){let a=[],c=function(e){a.push(e)};return c.assign=(...e)=>{a.push((0,i.a)(...e))},c.cancel=(...e)=>{a.push((0,s.a)(...e))},c.raise=(...e)=>{a.push((0,s.r)(...e))},c.sendTo=(...e)=>{a.push(f(...e))},c.sendParent=(...e)=>{a.push(p(...e))},c.spawnChild=(...e)=>{a.push((0,s.b)(...e))},c.stopChild=(...e)=>{a.push((0,s.s)(...e))},c.emit=(...e)=>{a.push(u(...e))},o({context:n.context,event:n.event,enqueue:c,check:e=>(0,s.x)(e,t.context,n.event,t),self:e.self,system:e.system},r),[t,void 0,a]}function g(e){function t(e,t){}return t.type="xstate.enqueueActions",t.collect=e,t.resolve=y,t}function m(e,t,n,r,{value:s,label:i}){return[t,{value:"function"==typeof s?s(n,r):s,label:i},void 0]}function v({logger:e},{value:t,label:n}){n?e(n,t):e(t)}function b(e=({context:e,event:t})=>({context:e,event:t}),t){function n(e,t){}return n.type="xstate.log",n.value=e,n.label=t,n.resolve=m,n.execute=v,n}},79750:function(e,t,n){var r;n.d(t,{$:function(){return T},B:function(){return es},C:function(){return ee},D:function(){return eE},E:function(){return Y},F:function(){return ej},G:function(){return Z},H:function(){return e_},I:function(){return function e(t,n,r,s){return"string"==typeof n?function(e,t,n,r){let s=ec(e,t).next(n,r);return s&&s.length?s:e.next(n,r)}(t,n,r,s):1===Object.keys(n).length?function(t,n,r,s){let i=Object.keys(n),o=e(ec(t,i[0]),n[i[0]],r,s);return o&&o.length?o:t.next(r,s)}(t,n,r,s):function(t,n,r,s){let i=[];for(let o of Object.keys(n)){let a=n[o];if(!a)continue;let u=e(ec(t,o),a,r,s);u&&i.push(...u)}return i.length?i:t.next(r,s)}(t,n,r,s)}},J:function(){return ew},K:function(){return f},L:function(){return em},M:function(){return eu},N:function(){return a},O:function(){return g},P:function(){return Q},Q:function(){return el},R:function(){return eO},S:function(){return o},T:function(){return S},U:function(){return c},V:function(){return h},W:function(){return O},X:function(){return l},Y:function(){return eT},a:function(){return U},b:function(){return N},c:function(){return D},g:function(){return ed},m:function(){return q},q:function(){return v},r:function(){return eD},s:function(){return B},t:function(){return b},u:function(){return er},v:function(){return x},w:function(){return en},x:function(){return G},y:function(){return $},z:function(){return et}});let s=e=>{if("undefined"==typeof window)return;let t=function(){let e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:void 0;if(e.__xstate__)return e.__xstate__}();t&&t.register(e)};class i{constructor(e){this._process=e,this._active=!1,this._current=null,this._last=null}start(){this._active=!0,this.flush()}clear(){this._current&&(this._current.next=null,this._last=this._current)}enqueue(e){let t={value:e,next:null};if(this._current){this._last.next=t,this._last=t;return}this._current=t,this._last=t,this._active&&this.flush()}flush(){for(;this._current;){let e=this._current;this._process(e.value),this._current=e.next}this._last=null}}let o=".",a="",u="xstate.init",c="xstate.error",l="xstate.stop";function d(e,t){return{type:`xstate.done.state.${e}`,output:t}}function h(e,t){return{type:`xstate.error.actor.${e}`,error:t,actorId:e}}function f(e){return{type:u,input:e}}function p(e){setTimeout(()=>{throw e})}let y="function"==typeof Symbol&&Symbol.observable||"@@observable";function g(e){if(_(e))return e;let t=[],n="";for(let r=0;r<e.length;r++){switch(e.charCodeAt(r)){case 92:n+=e[r+1],r++;continue;case 46:t.push(n),n="";continue}n+=e[r]}return t.push(n),t}function m(e){return e&&"object"==typeof e&&"machine"in e&&"value"in e?e.value:"string"!=typeof e?e:function(e){if(1===e.length)return e[0];let t={},n=t;for(let t=0;t<e.length-1;t++)if(t===e.length-2)n[e[t]]=e[t+1];else{let r=n;n={},r[e[t]]=n}return t}(g(e))}function v(e,t){let n={},r=Object.keys(e);for(let s=0;s<r.length;s++){let i=r[s];n[i]=t(e[i],i,e,s)}return n}function b(e){return void 0===e?[]:_(e)?e:[e]}function w(e,t,n,r){return"function"==typeof e?e({context:t,event:n,self:r}):e}function _(e){return Array.isArray(e)}function x(e){return(_(e)?e:[e]).map(e=>void 0===e||"string"==typeof e?{target:e}:e)}function I(e){if(void 0!==e&&""!==e)return b(e)}function E(e,t,n){let r="object"==typeof e,s=r?e:void 0;return{next:(r?e.next:e)?.bind(s),error:(r?e.error:t)?.bind(s),complete:(r?e.complete:n)?.bind(s)}}function $(e,t){return`${t}.${e}`}function S(e,t){let n=t.match(/^xstate\.invoke\.(\d+)\.(.*)/);if(!n)return e.implementations.actors[t];let[,r,s]=n,i=e.getStateNodeById(s).config.invoke;return(Array.isArray(i)?i[r]:i).src}function q(e,t){if(t===e||"*"===t)return!0;if(!t.endsWith(".*"))return!1;let n=t.split("."),r=e.split(".");for(let e=0;e<n.length;e++){let t=n[e],s=r[e];if("*"===t)return e===n.length-1;if(t!==s)return!1}return!0}function R(e,t){return`${e.sessionId}.${t}`}let k=0,j=!1,T=1,O=((r={})[r.NotStarted=0]="NotStarted",r[r.Running=1]="Running",r[r.Stopped=2]="Stopped",r),A={clock:{setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},logger:console.log.bind(console),devTools:!1};class P{constructor(e,t){this.logic=e,this._snapshot=void 0,this.clock=void 0,this.options=void 0,this.id=void 0,this.mailbox=new i(this._process.bind(this)),this.observers=new Set,this.eventListeners=new Map,this.logger=void 0,this._processingStatus=O.NotStarted,this._parent=void 0,this._syncSnapshot=void 0,this.ref=void 0,this._actorScope=void 0,this.systemId=void 0,this.sessionId=void 0,this.system=void 0,this._doneEvent=void 0,this.src=void 0,this._deferred=[];let n={...A,...t},{clock:r,logger:s,parent:o,syncSnapshot:a,id:u,systemId:c,inspect:l}=n;this.system=o?o.system:function(e,t){let n=new Map,r=new Map,s=new WeakMap,i=new Set,o={},{clock:a,logger:u}=t,c={schedule:(e,t,n,r,s=Math.random().toString(36).slice(2))=>{let i={source:e,target:t,event:n,delay:r,id:s,startedAt:Date.now()},u=R(e,s);l._snapshot._scheduledEvents[u]=i;let c=a.setTimeout(()=>{delete o[u],delete l._snapshot._scheduledEvents[u],l._relay(e,t,n)},r);o[u]=c},cancel:(e,t)=>{let n=R(e,t),r=o[n];delete o[n],delete l._snapshot._scheduledEvents[n],void 0!==r&&a.clearTimeout(r)},cancelAll:e=>{for(let t in l._snapshot._scheduledEvents){let n=l._snapshot._scheduledEvents[t];n.source===e&&c.cancel(e,n.id)}}},l={_snapshot:{_scheduledEvents:(t?.snapshot&&t.snapshot.scheduler)??{}},_bookId:()=>`x:${k++}`,_register:(e,t)=>(n.set(e,t),e),_unregister:e=>{n.delete(e.sessionId);let t=s.get(e);void 0!==t&&(r.delete(t),s.delete(e))},get:e=>r.get(e),getAll:()=>Object.fromEntries(r.entries()),_set:(e,t)=>{let n=r.get(e);if(n&&n!==t)throw Error(`Actor with system ID '${e}' already exists.`);r.set(e,t),s.set(t,e)},inspect:e=>{let t=E(e);return i.add(t),{unsubscribe(){i.delete(t)}}},_sendInspectionEvent:t=>{if(!i.size)return;let n={...t,rootId:e.sessionId};i.forEach(e=>e.next?.(n))},_relay:(e,t,n)=>{l._sendInspectionEvent({type:"@xstate.event",sourceRef:e,actorRef:t,event:n}),t._send(n)},scheduler:c,getSnapshot:()=>({_scheduledEvents:{...l._snapshot._scheduledEvents}}),start:()=>{let e=l._snapshot._scheduledEvents;for(let t in l._snapshot._scheduledEvents={},e){let{source:n,target:r,event:s,delay:i,id:o}=e[t];c.schedule(n,r,s,i,o)}},_clock:a,_logger:u};return l}(this,{clock:r,logger:s}),l&&!o&&this.system.inspect(E(l)),this.sessionId=this.system._bookId(),this.id=u??this.sessionId,this.logger=t?.logger??this.system._logger,this.clock=t?.clock??this.system._clock,this._parent=o,this._syncSnapshot=a,this.options=n,this.src=n.src??e,this.ref=this,this._actorScope={self:this,id:this.id,sessionId:this.sessionId,logger:this.logger,defer:e=>{this._deferred.push(e)},system:this.system,stopChild:e=>{if(e._parent!==this)throw Error(`Cannot stop child actor ${e.id} of ${this.id} because it is not a child`);e._stop()},emit:e=>{let t=this.eventListeners.get(e.type),n=this.eventListeners.get("*");if(t||n)for(let r of[...t?t.values():[],...n?n.values():[]])try{r(e)}catch(e){p(e)}},actionExecutor:e=>{let t=()=>{if(this._actorScope.system._sendInspectionEvent({type:"@xstate.action",actorRef:this,action:{type:e.type,params:e.params}}),!e.exec)return;let t=j;try{j=!0,e.exec(e.info,e.params)}finally{j=t}};this._processingStatus===O.Running?t():this._deferred.push(t)}},this.send=this.send.bind(this),this.system._sendInspectionEvent({type:"@xstate.actor",actorRef:this}),c&&(this.systemId=c,this.system._set(c,this)),this._initState(t?.snapshot??t?.state),c&&"active"!==this._snapshot.status&&this.system._unregister(this)}_initState(e){try{this._snapshot=e?this.logic.restoreSnapshot?this.logic.restoreSnapshot(e,this._actorScope):e:this.logic.getInitialSnapshot(this._actorScope,this.options?.input)}catch(e){this._snapshot={status:"error",output:void 0,error:e}}}update(e,t){let n;for(this._snapshot=e;n=this._deferred.shift();)try{n()}catch(t){this._deferred.length=0,this._snapshot={...e,status:"error",error:t}}switch(this._snapshot.status){case"active":for(let t of this.observers)try{t.next?.(e)}catch(e){p(e)}break;case"done":var r;for(let t of this.observers)try{t.next?.(e)}catch(e){p(e)}this._stopProcedure(),this._complete(),this._doneEvent=(r=this.id,{type:`xstate.done.actor.${r}`,output:this._snapshot.output,actorId:r}),this._parent&&this.system._relay(this,this._parent,this._doneEvent);break;case"error":this._error(this._snapshot.error)}this.system._sendInspectionEvent({type:"@xstate.snapshot",actorRef:this,event:t,snapshot:e})}subscribe(e,t,n){let r=E(e,t,n);if(this._processingStatus!==O.Stopped)this.observers.add(r);else switch(this._snapshot.status){case"done":try{r.complete?.()}catch(e){p(e)}break;case"error":{let e=this._snapshot.error;if(r.error)try{r.error(e)}catch(e){p(e)}else p(e)}}return{unsubscribe:()=>{this.observers.delete(r)}}}on(e,t){let n=this.eventListeners.get(e);n||(n=new Set,this.eventListeners.set(e,n));let r=t.bind(void 0);return n.add(r),{unsubscribe:()=>{n.delete(r)}}}start(){if(this._processingStatus===O.Running)return this;this._syncSnapshot&&this.subscribe({next:e=>{"active"===e.status&&this.system._relay(this,this._parent,{type:`xstate.snapshot.${this.id}`,snapshot:e})},error:()=>{}}),this.system._register(this.sessionId,this),this.systemId&&this.system._set(this.systemId,this),this._processingStatus=O.Running;let e=f(this.options.input);switch(this.system._sendInspectionEvent({type:"@xstate.event",sourceRef:this._parent,actorRef:this,event:e}),this._snapshot.status){case"done":return this.update(this._snapshot,e),this;case"error":return this._error(this._snapshot.error),this}if(this._parent||this.system.start(),this.logic.start)try{this.logic.start(this._snapshot,this._actorScope)}catch(e){return this._snapshot={...this._snapshot,status:"error",error:e},this._error(e),this}return this.update(this._snapshot,e),this.options.devTools&&this.attachDevTools(),this.mailbox.start(),this}_process(e){let t,n;try{t=this.logic.transition(this._snapshot,e,this._actorScope)}catch(e){n={err:e}}if(n){let{err:e}=n;this._snapshot={...this._snapshot,status:"error",error:e},this._error(e);return}this.update(t,e),e.type===l&&(this._stopProcedure(),this._complete())}_stop(){return this._processingStatus===O.Stopped||((this.mailbox.clear(),this._processingStatus===O.NotStarted)?this._processingStatus=O.Stopped:this.mailbox.enqueue({type:l})),this}stop(){if(this._parent)throw Error("A non-root actor cannot be stopped directly.");return this._stop()}_complete(){for(let e of this.observers)try{e.complete?.()}catch(e){p(e)}this.observers.clear(),this.eventListeners.clear()}_reportError(e){if(!this.observers.size){this._parent||p(e),this.eventListeners.clear();return}let t=!1;for(let n of this.observers){let r=n.error;t||=!r;try{r?.(e)}catch(e){p(e)}}this.observers.clear(),this.eventListeners.clear(),t&&p(e)}_error(e){this._stopProcedure(),this._reportError(e),this._parent&&this.system._relay(this,this._parent,h(this.id,e))}_stopProcedure(){return this._processingStatus!==O.Running||(this.system.scheduler.cancelAll(this),this.mailbox.clear(),this.mailbox=new i(this._process.bind(this)),this._processingStatus=O.Stopped,this.system._unregister(this)),this}_send(e){this._processingStatus!==O.Stopped&&this.mailbox.enqueue(e)}send(e){this.system._relay(void 0,this,e)}attachDevTools(){let{devTools:e}=this.options;e&&("function"==typeof e?e:s)(this)}toJSON(){return{xstate$$type:T,id:this.id}}getPersistedSnapshot(e){return this.logic.getPersistedSnapshot(this._snapshot,e)}[y](){return this}getSnapshot(){return this._snapshot}}function D(e,...[t]){return new P(e,t)}function C(e,t,n,r,{sendId:s}){return[t,{sendId:"function"==typeof s?s(n,r):s},void 0]}function M(e,t){e.defer(()=>{e.system.scheduler.cancel(e.self,t.sendId)})}function U(e){function t(e,t){}return t.type="xstate.cancel",t.sendId=e,t.resolve=C,t.execute=M,t}function V(e,t,n,r,{id:s,systemId:i,src:o,input:a,syncSnapshot:u}){let c,l;let d="string"==typeof o?S(t.machine,o):o,h="function"==typeof s?s(n):s;return d&&(l="function"==typeof a?a({context:t.context,event:n.event,self:e.self}):a,c=D(d,{id:h,src:o,parent:e.self,syncSnapshot:u,systemId:i,input:l})),[eT(t,{children:{...t.children,[h]:c}}),{id:s,systemId:i,actorRef:c,src:o,input:l},void 0]}function L(e,{actorRef:t}){t&&e.defer(()=>{t._processingStatus!==O.Stopped&&t.start()})}function N(...[e,{id:t,systemId:n,input:r,syncSnapshot:s=!1}={}]){function i(e,t){}return i.type="xstate.spawnChild",i.id=t,i.systemId=n,i.src=e,i.input=r,i.syncSnapshot=s,i.resolve=V,i.execute=L,i}function z(e,t,n,r,{actorRef:s}){let i="function"==typeof s?s(n,r):s,o="string"==typeof i?t.children[i]:i,a=t.children;return o&&(a={...a},delete a[o.id]),[eT(t,{children:a}),o,void 0]}function W(e,t){if(t){if(!function e(t,n){let r=n.getSnapshot();if(r&&"children"in r)for(let n of Object.values(r.children))e(t,n);t.system._unregister(n)}(e,t),t._processingStatus!==O.Running){e.stopChild(t);return}e.defer(()=>{e.stopChild(t)})}}function B(e){function t(e,t){}return t.type="xstate.stopChild",t.actorRef=e,t.resolve=z,t.execute=W,t}function G(e,t,n,r){let{machine:s}=r,i="function"==typeof e,o=i?e:s.implementations.guards["string"==typeof e?e:e.type];if(!i&&!o)throw Error(`Guard '${"string"==typeof e?e:e.type}' is not implemented.'.`);if("function"!=typeof o)return G(o,t,n,r);let a={context:t,event:n},u=i||"string"==typeof e?void 0:"params"in e?"function"==typeof e.params?e.params({context:t,event:n}):e.params:void 0;return"check"in o?o.check(r,a,o):o(a,u)}let H=e=>"atomic"===e.type||"final"===e.type;function F(e){return Object.values(e.states).filter(e=>"history"!==e.type)}function J(e,t){let n=[];if(t===e)return n;let r=e.parent;for(;r&&r!==t;)n.push(r),r=r.parent;return n}function Y(e){let t=new Set(e),n=K(t);for(let e of t)if("compound"!==e.type||n.get(e)&&n.get(e).length){if("parallel"===e.type){for(let n of F(e))if("history"!==n.type&&!t.has(n))for(let e of ea(n))t.add(e)}}else ea(e).forEach(e=>t.add(e));for(let e of t){let n=e.parent;for(;n;)t.add(n),n=n.parent}return t}function K(e){let t=new Map;for(let n of e)t.has(n)||t.set(n,[]),n.parent&&(t.has(n.parent)||t.set(n.parent,[]),t.get(n.parent).push(n));return t}function X(e,t){return function e(t,n){let r=n.get(t);if(!r)return{};if("compound"===t.type){let e=r[0];if(!e)return{};if(H(e))return e.key}let s={};for(let t of r)s[t.key]=e(t,n);return s}(e,K(Y(t)))}function Z(e,t){return"compound"===t.type?F(t).some(t=>"final"===t.type&&e.has(t)):"parallel"===t.type?F(t).every(t=>Z(e,t)):"final"===t.type}let Q=e=>"#"===e[0];function ee(e,t){return e.transitions.get(t)||[...e.transitions.keys()].filter(e=>q(t,e)).sort((e,t)=>t.length-e.length).flatMap(t=>e.transitions.get(t))}function et(e){let t=e.config.after;if(!t)return[];let n=t=>{var n;let r=(n=e.id,{type:`xstate.after.${t}.${n}`}),s=r.type;return e.entry.push(eD(r,{id:s,delay:t})),e.exit.push(U(s)),s};return Object.keys(t).flatMap(e=>{let r=t[e],s=Number.isNaN(+e)?e:+e,i=n(s);return b("string"==typeof r?{target:r}:r).map(e=>({...e,event:i,delay:s}))}).map(t=>{let{delay:n}=t;return{...en(e,t.event,t),delay:n}})}function en(e,t,n){let r=I(n.target),s=n.reenter??!1,i=function(e,t){if(void 0!==t)return t.map(t=>{if("string"!=typeof t)return t;if(Q(t))return e.machine.getStateNodeById(t);let n=t[0]===o;if(n&&!e.parent)return el(e,t.slice(1));let r=n?e.key+t:t;if(e.parent)try{return el(e.parent,r)}catch(t){throw Error(`Invalid transition definition for state node '${e.id}':
${t.message}`)}else throw Error(`Invalid target: "${t}" is not a valid target from the root node. Did you mean ".${t}"?`)})}(e,r),a={...n,actions:b(n.actions),guard:n.guard,target:i,source:e,reenter:s,eventType:t,toJSON:()=>({...a,source:`#${e.id}`,target:i?i.map(e=>`#${e.id}`):void 0})};return a}function er(e){let t=new Map;if(e.config.on)for(let n of Object.keys(e.config.on)){if(n===a)throw Error('Null events ("") cannot be specified as a transition key. Use `always: { ... }` instead.');let r=e.config.on[n];t.set(n,x(r).map(t=>en(e,n,t)))}if(e.config.onDone){let n=`xstate.done.state.${e.id}`;t.set(n,x(e.config.onDone).map(t=>en(e,n,t)))}for(let n of e.invoke){if(n.onDone){let r=`xstate.done.actor.${n.id}`;t.set(r,x(n.onDone).map(t=>en(e,r,t)))}if(n.onError){let r=`xstate.error.actor.${n.id}`;t.set(r,x(n.onError).map(t=>en(e,r,t)))}if(n.onSnapshot){let r=`xstate.snapshot.${n.id}`;t.set(r,x(n.onSnapshot).map(t=>en(e,r,t)))}}for(let n of e.after){let e=t.get(n.eventType);e||(e=[],t.set(n.eventType,e)),e.push(n)}return t}function es(e,t){let n="string"==typeof t?e.states[t]:t?e.states[t.target]:void 0;if(!n&&t)throw Error(`Initial state node "${t}" not found on parent state node #${e.id}`);let r={source:e,actions:t&&"string"!=typeof t?b(t.actions):[],eventType:null,reenter:!1,target:n?[n]:[],toJSON:()=>({...r,source:`#${e.id}`,target:n?[`#${n.id}`]:[]})};return r}function ei(e){let t=I(e.config.target);return t?{target:t.map(t=>"string"==typeof t?el(e.parent,t):t)}:e.parent.initial}function eo(e){return"history"===e.type}function ea(e){let t=eu(e);for(let n of t)for(let r of J(n,e))t.add(r);return t}function eu(e){let t=new Set;return!function e(n){if(!t.has(n)){if(t.add(n),"compound"===n.type)e(n.initial.target[0]);else if("parallel"===n.type)for(let t of F(n))e(t)}}(e),t}function ec(e,t){if(Q(t))return e.machine.getStateNodeById(t);if(!e.states)throw Error(`Unable to retrieve child state '${t}' from '${e.id}'; no child states exist.`);let n=e.states[t];if(!n)throw Error(`Child state '${t}' does not exist on '${e.id}'`);return n}function el(e,t){if("string"==typeof t&&Q(t))try{return e.machine.getStateNodeById(t)}catch{}let n=g(t).slice(),r=e;for(;n.length;){let e=n.shift();if(!e.length)break;r=ec(r,e)}return r}function ed(e,t){if("string"==typeof t){let n=e.states[t];if(!n)throw Error(`State '${t}' does not exist on '${e.id}'`);return[e,n]}let n=Object.keys(t),r=n.map(t=>ec(e,t)).filter(Boolean);return[e.machine.root,e].concat(r,n.reduce((n,r)=>{let s=ec(e,r);if(!s)return n;let i=ed(s,t[r]);return n.concat(i)},[]))}function eh(e,t){let n=e;for(;n.parent&&n.parent!==t;)n=n.parent;return n.parent===t}function ef(e,t,n){let r=new Set;for(let s of e){let e=!1,i=new Set;for(let o of r)if(function(e,t){let n=new Set(e),r=new Set(t);for(let e of n)if(r.has(e))return!0;for(let e of r)if(n.has(e))return!0;return!1}(eg([s],t,n),eg([o],t,n))){if(eh(s.source,o.source))i.add(o);else{e=!0;break}}if(!e){for(let e of i)r.delete(e);r.add(s)}}return Array.from(r)}function ep(e,t){if(!e.target)return[];let n=new Set;for(let r of e.target)if(eo(r)){if(t[r.id])for(let e of t[r.id])n.add(e);else for(let e of ep(ei(r),t))n.add(e)}else n.add(r);return[...n]}function ey(e,t){let n=ep(e,t);if(!n)return;if(!e.reenter&&n.every(t=>t===e.source||eh(t,e.source)))return e.source;let r=function(e){let[t,...n]=e;for(let e of J(t,void 0))if(n.every(t=>eh(t,e)))return e}(n.concat(e.source));return r||(e.reenter?void 0:e.source.machine.root)}function eg(e,t,n){let r=new Set;for(let s of e)if(s.target?.length){let e=ey(s,n);for(let n of(s.reenter&&s.source===e&&r.add(e),t))eh(n,e)&&r.add(n)}return[...r]}function em(e,t,n,r,s,i){if(!e.length)return t;let o=new Set(t._nodes),a=t.historyValue,u=ef(e,o,a),c=t;s||([c,a]=function(e,t,n,r,s,i,o,a){let u,c=e,l=eg(r,s,i);for(let e of(l.sort((e,t)=>t.order-e.order),l))for(let t of function(e){return Object.keys(e.states).map(t=>e.states[t]).filter(e=>"history"===e.type)}(e)){let n;n="deep"===t.history?t=>H(t)&&eh(t,e):t=>t.parent===e,(u??={...i})[t.id]=Array.from(s).filter(n)}for(let e of l)c=ew(c,t,n,[...e.exit,...e.invoke.map(e=>B(e.id))],o,void 0),s.delete(e);return[c,u||i]}(c,r,n,u,o,a,i,n.actionExecutor)),c=function(e,t,n,r,s,i,o,a){let u=e,c=new Set,l=new Set;(function(e,t,n,r){for(let s of e){let e=ey(s,t);for(let i of s.target||[])!eo(i)&&(s.source!==i||s.source!==e||s.reenter)&&(r.add(i),n.add(i)),ev(i,t,n,r);for(let i of ep(s,t)){let o=J(i,e);e?.type==="parallel"&&o.push(e),eb(r,t,n,o,!s.source.parent&&s.reenter?void 0:e)}}})(r,o,l,c),a&&l.add(e.machine.root);let h=new Set;for(let e of[...c].sort((e,t)=>e.order-t.order)){s.add(e);let r=[];for(let t of(r.push(...e.entry),e.invoke))r.push(N(t.src,{...t,syncSnapshot:!!t.onSnapshot}));if(l.has(e)){let t=e.initial.actions;r.push(...t)}if(u=ew(u,t,n,r,i,e.invoke.map(e=>e.id)),"final"===e.type){let r=e.parent,o=r?.type==="parallel"?r:r?.parent,a=o||e;for(r?.type==="compound"&&i.push(d(r.id,void 0!==e.output?w(e.output,u.context,t,n.self):void 0));o?.type==="parallel"&&!h.has(o)&&Z(s,o);)h.add(o),i.push(d(o.id)),a=o,o=o.parent;if(o)continue;u=eT(u,{status:"done",output:function(e,t,n,r,s){if(void 0===r.output)return;let i=d(s.id,void 0!==s.output&&s.parent?w(s.output,e.context,t,n.self):void 0);return w(r.output,e.context,i,n.self)}(u,t,n,u.machine.root,a)})}}return u}(c=ew(c,r,n,u.flatMap(e=>e.actions),i,void 0),r,n,u,o,i,a,s);let l=[...o];"done"===c.status&&(c=ew(c,r,n,l.sort((e,t)=>t.order-e.order).flatMap(e=>e.exit),i,void 0));try{if(a===t.historyValue&&function(e,t){if(e.length!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}(t._nodes,o))return c;return eT(c,{_nodes:l,historyValue:a})}catch(e){throw e}}function ev(e,t,n,r){if(eo(e)){if(t[e.id]){let s=t[e.id];for(let e of s)r.add(e),ev(e,t,n,r);for(let i of s)eb(r,t,n,J(i,e.parent))}else{let s=ei(e);for(let i of s.target)r.add(i),s===e.parent?.initial&&n.add(e.parent),ev(i,t,n,r);for(let i of s.target)eb(r,t,n,J(i,e.parent))}}else if("compound"===e.type){let[s]=e.initial.target;eo(s)||(r.add(s),n.add(s)),ev(s,t,n,r),eb(r,t,n,J(s,e))}else if("parallel"===e.type)for(let s of F(e).filter(e=>!eo(e)))[...r].some(e=>eh(e,s))||(eo(s)||(r.add(s),n.add(s)),ev(s,t,n,r))}function eb(e,t,n,r,s){for(let i of r)if((!s||eh(i,s))&&e.add(i),"parallel"===i.type)for(let r of F(i).filter(e=>!eo(e)))[...e].some(e=>eh(e,r))||(e.add(r),ev(r,t,n,e))}function ew(e,t,n,r,s,i){let o=i?[]:void 0,a=function e(t,n,r,s,i,o){let{machine:a}=t,u=t;for(let t of s){var c;let s="function"==typeof t,l=s?t:(c="string"==typeof t?t:t.type,a.implementations.actions[c]),d={context:u.context,event:n,self:r.self,system:r.system},h=s||"string"==typeof t?void 0:"params"in t?"function"==typeof t.params?t.params({context:u.context,event:n}):t.params:void 0;if(!l||!("resolve"in l)){r.actionExecutor({type:"string"==typeof t?t:"object"==typeof t?t.type:t.name||"(anonymous)",info:d,params:h,exec:l});continue}let[f,p,y]=l.resolve(r,u,d,h,l,i);u=f,"retryResolve"in l&&o?.push([l,p]),"execute"in l&&r.actionExecutor({type:l.type,info:d,params:p,exec:l.execute.bind(null,r,p)}),y&&(u=e(u,n,r,y,i,o))}return u}(e,t,n,r,{internalQueue:s,deferredActorIds:i},o);return o?.forEach(([e,t])=>{e.retryResolve(n,a,t)}),a}function e_(e,t,n,r){let s=e,i=[];function o(e,t,r){n.system._sendInspectionEvent({type:"@xstate.microstep",actorRef:n.self,event:t,snapshot:e,_transitions:r}),i.push(e)}if(t.type===l)return o(s=eT(ex(s,t,n),{status:"stopped"}),t,[]),{snapshot:s,microstates:i};let a=t;if(a.type!==u){let t=a,u=t.type.startsWith("xstate.error.actor"),c=eI(t,s);if(u&&!c.length)return o(s=eT(e,{status:"error",error:t.error}),t,[]),{snapshot:s,microstates:i};o(s=em(c,e,n,a,!1,r),t,c)}let c=!0;for(;"active"===s.status;){let e=c?function(e,t){let n=new Set;for(let r of e._nodes.filter(H))e:for(let s of[r].concat(J(r,void 0)))if(s.always){for(let r of s.always)if(void 0===r.guard||G(r.guard,e.context,t,e)){n.add(r);break e}}return ef(Array.from(n),new Set(e._nodes),e.historyValue)}(s,a):[],t=e.length?s:void 0;if(!e.length){if(!r.length)break;e=eI(a=r.shift(),s)}c=(s=em(e,s,n,a,!1,r))!==t,o(s,a,e)}return"active"!==s.status&&ex(s,a,n),{snapshot:s,microstates:i}}function ex(e,t,n){return ew(e,t,n,Object.values(e.children).map(e=>B(e)),[],void 0)}function eI(e,t){return t.machine.getTransitionData(t,e)}function eE(e,t){let n=Y(ed(e,t));return X(e,[...n])}let e$=function(e){return function e(t,n){let r=m(t),s=m(n);return"string"==typeof s?"string"==typeof r&&s===r:"string"==typeof r?r in s:Object.keys(r).every(t=>t in s&&e(r[t],s[t]))}(e,this.value)},eS=function(e){return this.tags.has(e)},eq=function(e){let t=this.machine.getTransitionData(this,e);return!!t?.length&&t.some(e=>void 0!==e.target||e.actions.length)},eR=function(){let{_nodes:e,tags:t,machine:n,getMeta:r,toJSON:s,can:i,hasTag:o,matches:a,...u}=this;return{...u,tags:Array.from(t)}},ek=function(){return this._nodes.reduce((e,t)=>(void 0!==t.meta&&(e[t.id]=t.meta),e),{})};function ej(e,t){return{status:e.status,output:e.output,error:e.error,machine:t,context:e.context,_nodes:e._nodes,value:X(t.root,e._nodes),tags:new Set(e._nodes.flatMap(e=>e.tags)),children:e.children,historyValue:e.historyValue||{},matches:e$,hasTag:eS,can:eq,getMeta:ek,toJSON:eR}}function eT(e,t={}){return ej({...e,...t},e.machine)}function eO(e,t){let{_nodes:n,tags:r,machine:s,children:i,context:o,can:a,hasTag:u,matches:c,getMeta:l,toJSON:d,...h}=e,f={};for(let e in i){let n=i[e];f[e]={snapshot:n.getPersistedSnapshot(t),src:n.src,systemId:n.systemId,syncSnapshot:n._syncSnapshot}}return{...h,context:function e(t){let n;for(let r in t){let s=t[r];if(s&&"object"==typeof s){if("sessionId"in s&&"send"in s&&"ref"in s)(n??=Array.isArray(t)?t.slice():{...t})[r]={xstate$$type:T,id:s.id};else{let i=e(s);i!==s&&((n??=Array.isArray(t)?t.slice():{...t})[r]=i)}}}return n??t}(o),children:f,historyValue:function(e){if("object"!=typeof e||null===e)return{};let t={};for(let n in e){let r=e[n];Array.isArray(r)&&(t[n]=r.map(e=>({id:e.id})))}return t}(h.historyValue)}}function eA(e,t,n,r,{event:s,id:i,delay:o},{internalQueue:a}){let u;let c=t.machine.implementations.delays;if("string"==typeof s)throw Error(`Only event objects may be used with raise; use raise({ type: "${s}" }) instead`);let l="function"==typeof s?s(n,r):s;if("string"==typeof o){let e=c&&c[o];u="function"==typeof e?e(n,r):e}else u="function"==typeof o?o(n,r):o;return"number"!=typeof u&&a.push(l),[t,{event:l,id:i,delay:u},void 0]}function eP(e,t){let{event:n,delay:r,id:s}=t;if("number"==typeof r){e.defer(()=>{let t=e.self;e.system.scheduler.schedule(t,t,n,r,s)});return}}function eD(e,t){function n(e,t){}return n.type="xstate.raise",n.event=e,n.id=t?.id,n.delay=t?.delay,n.resolve=eA,n.execute=eP,n}},67615:function(e,t,n){n.d(t,{ZD:function(){return h},cY:function(){return function e({schemas:t,actors:n,actions:i,guards:o,delays:a}){return{assign:s.a,sendTo:d.s,raise:r.r,log:d.l,cancel:r.a,stopChild:r.s,enqueueActions:d.e,emit:d.a,spawnChild:r.b,createStateConfig:e=>e,createAction:e=>e,createMachine:e=>new l({...e,schemas:t},{actors:n,actions:i,guards:o,delays:a}),extend:r=>e({schemas:t,actors:n,actions:{...i,...r.actions},guards:{...o,...r.guards},delays:{...a,...r.delays}})}}}}),n(40211);var r=n(79750),s=n(3157);let i=new WeakMap;function o(e,t,n){let r=i.get(e);return r?t in r||(r[t]=n()):(r={[t]:n()},i.set(e,r)),r[t]}let a={},u=e=>"string"==typeof e?{type:e}:"function"==typeof e?"resolve"in e?{type:e.type}:{type:e.name}:e;class c{constructor(e,t){if(this.config=e,this.key=void 0,this.id=void 0,this.type=void 0,this.path=void 0,this.states=void 0,this.history=void 0,this.entry=void 0,this.exit=void 0,this.parent=void 0,this.machine=void 0,this.meta=void 0,this.output=void 0,this.order=-1,this.description=void 0,this.tags=[],this.transitions=void 0,this.always=void 0,this.parent=t._parent,this.key=t._key,this.machine=t._machine,this.path=this.parent?this.parent.path.concat(this.key):[],this.id=this.config.id||[this.machine.id,...this.path].join(r.S),this.type=this.config.type||(this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.description=this.config.description,this.order=this.machine.idMap.size,this.machine.idMap.set(this.id,this),this.states=this.config.states?(0,r.q)(this.config.states,(e,t)=>new c(e,{_parent:this,_key:t,_machine:this.machine})):a,"compound"===this.type&&!this.config.initial)throw Error(`No initial state specified for compound state node "#${this.id}". Try adding { initial: "${Object.keys(this.states)[0]}" } to the state config.`);this.history=!0===this.config.history?"shallow":this.config.history||!1,this.entry=(0,r.t)(this.config.entry).slice(),this.exit=(0,r.t)(this.config.exit).slice(),this.meta=this.config.meta,this.output="final"!==this.type&&this.parent?void 0:this.config.output,this.tags=(0,r.t)(e.tags).slice()}_initialize(){this.transitions=(0,r.u)(this),this.config.always&&(this.always=(0,r.v)(this.config.always).map(e=>(0,r.w)(this,r.N,e))),Object.keys(this.states).forEach(e=>{this.states[e]._initialize()})}get definition(){return{id:this.id,key:this.key,version:this.machine.version,type:this.type,initial:this.initial?{target:this.initial.target,source:this,actions:this.initial.actions.map(u),eventType:null,reenter:!1,toJSON:()=>({target:this.initial.target.map(e=>`#${e.id}`),source:`#${this.id}`,actions:this.initial.actions.map(u),eventType:null})}:void 0,history:this.history,states:(0,r.q)(this.states,e=>e.definition),on:this.on,transitions:[...this.transitions.values()].flat().map(e=>({...e,actions:e.actions.map(u)})),entry:this.entry.map(u),exit:this.exit.map(u),meta:this.meta,order:this.order||-1,output:this.output,invoke:this.invoke,description:this.description,tags:this.tags}}toJSON(){return this.definition}get invoke(){return o(this,"invoke",()=>(0,r.t)(this.config.invoke).map((e,t)=>{let{src:n,systemId:s}=e,i=e.id??(0,r.y)(this.id,t),o="string"==typeof n?n:`xstate.invoke.${(0,r.y)(this.id,t)}`;return{...e,src:o,id:i,systemId:s,toJSON(){let{onDone:t,onError:n,...r}=e;return{...r,type:"xstate.invoke",src:o,id:i}}}}))}get on(){return o(this,"on",()=>[...this.transitions].flatMap(([e,t])=>t.map(t=>[e,t])).reduce((e,[t,n])=>(e[t]=e[t]||[],e[t].push(n),e),{}))}get after(){return o(this,"delayedTransitions",()=>(0,r.z)(this))}get initial(){return o(this,"initial",()=>(0,r.B)(this,this.config.initial))}next(e,t){let n;let s=t.type,i=[];for(let a of o(this,`candidates-${s}`,()=>(0,r.C)(this,s))){let{guard:o}=a,u=e.context,c=!1;try{c=!o||(0,r.x)(o,u,t,e)}catch(t){let e="string"==typeof o?o:"object"==typeof o?o.type:void 0;throw Error(`Unable to evaluate guard ${e?`'${e}' `:""}in transition for event '${s}' in state node '${this.id}':
${t.message}`)}if(c){i.push(...a.actions),n=a;break}}return n?[n]:void 0}get events(){return o(this,"events",()=>{let{states:e}=this,t=new Set(this.ownEvents);if(e)for(let n of Object.keys(e)){let r=e[n];if(r.states)for(let e of r.events)t.add(`${e}`)}return Array.from(t)})}get ownEvents(){return Array.from(new Set(Object.keys(Object.fromEntries(this.transitions)).filter(e=>this.transitions.get(e).some(e=>!(!e.target&&!e.actions.length&&!e.reenter)))))}}class l{constructor(e,t){this.config=e,this.version=void 0,this.schemas=void 0,this.implementations=void 0,this.__xstatenode=!0,this.idMap=new Map,this.root=void 0,this.id=void 0,this.states=void 0,this.events=void 0,this.id=e.id||"(machine)",this.implementations={actors:t?.actors??{},actions:t?.actions??{},delays:t?.delays??{},guards:t?.guards??{}},this.version=this.config.version,this.schemas=this.config.schemas,this.transition=this.transition.bind(this),this.getInitialSnapshot=this.getInitialSnapshot.bind(this),this.getPersistedSnapshot=this.getPersistedSnapshot.bind(this),this.restoreSnapshot=this.restoreSnapshot.bind(this),this.start=this.start.bind(this),this.root=new c(e,{_key:this.id,_machine:this}),this.root._initialize(),this.states=this.root.states,this.events=this.root.events}provide(e){let{actions:t,guards:n,actors:r,delays:s}=this.implementations;return new l(this.config,{actions:{...t,...e.actions},guards:{...n,...e.guards},actors:{...r,...e.actors},delays:{...s,...e.delays}})}resolveState(e){let t=(0,r.D)(this.root,e.value),n=(0,r.E)((0,r.g)(this.root,t));return(0,r.F)({_nodes:[...n],context:e.context||{},children:{},status:(0,r.G)(n,this.root)?"done":e.status||"active",output:e.output,error:e.error,historyValue:e.historyValue},this)}transition(e,t,n){return(0,r.H)(e,t,n,[]).snapshot}microstep(e,t,n){return(0,r.H)(e,t,n,[]).microstates}getTransitionData(e,t){return(0,r.I)(this.root,e.value,e,t)||[]}getPreInitialState(e,t,n){let{context:i}=this.config,o=(0,r.F)({context:"function"!=typeof i&&i?i:{},_nodes:[this.root],children:{},status:"active"},this);return"function"==typeof i?(0,r.J)(o,t,e,[(0,s.a)(({spawn:e,event:t,self:n})=>i({spawn:e,input:t.input,self:n}))],n,void 0):o}getInitialSnapshot(e,t){let n=(0,r.K)(t),s=[],i=this.getPreInitialState(e,n,s),o=(0,r.L)([{target:[...(0,r.M)(this.root)],source:this.root,reenter:!0,actions:[],eventType:null,toJSON:null}],i,e,n,!0,s),{snapshot:a}=(0,r.H)(o,n,e,s);return a}start(e){Object.values(e.children).forEach(e=>{"active"===e.getSnapshot().status&&e.start()})}getStateNodeById(e){let t=(0,r.O)(e),n=t.slice(1),s=(0,r.P)(t[0])?t[0].slice(1):t[0],i=this.idMap.get(s);if(!i)throw Error(`Child state node '#${s}' does not exist on machine '${this.id}'`);return(0,r.Q)(i,n)}get definition(){return this.root.definition}toJSON(){return this.definition}getPersistedSnapshot(e,t){return(0,r.R)(e,t)}restoreSnapshot(e,t){let n={},s=e.children;Object.keys(s).forEach(e=>{let i=s[e],o=i.snapshot,a=i.src,u="string"==typeof a?(0,r.T)(this,a):a;if(!u)return;let c=(0,r.c)(u,{id:e,parent:t.self,syncSnapshot:i.syncSnapshot,snapshot:o,src:a,systemId:i.systemId});n[e]=c});let i=function(e,t){if(!t||"object"!=typeof t)return{};let n={};for(let r in t)for(let s of t[r]){let t=function(e,t){if(t instanceof c)return t;try{return e.machine.getStateNodeById(t.id)}catch{}}(e,s);t&&(n[r]??=[],n[r].push(t))}return n}(this.root,e.historyValue),o=(0,r.F)({...e,children:n,_nodes:Array.from((0,r.E)((0,r.g)(this.root,e.value))),historyValue:i},this),a=new Set;return!function e(t,n){if(!a.has(t))for(let s in a.add(t),t){let i=t[s];if(i&&"object"==typeof i){if("xstate$$type"in i&&i.xstate$$type===r.$){t[s]=n[i.id];continue}e(i,n)}}}(o.context,n),o}}var d=n(97817);function h(e,t){let n=(0,r.t)(t);if(!n.some(t=>(0,r.m)(e.type,t))){let t=1===n.length?`type matching "${n[0]}"`:`one of types matching "${n.join('", "')}"`;throw Error(`Expected event ${JSON.stringify(e)} to have ${t}`)}}},6301:function(e,t,n){let r;n.d(t,{yK:function(){return L},Hq:function(){return W},ei:function(){return H},bK:function(){return B},Ol:function(){return G},UE:function(){return z},Ag:function(){return N},F8:function(){return V},dS:function(){return K},zB:function(){return Y},lB:function(){return J}});var s={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let i=new Uint8Array(16),o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));var a=function(e,t,n){if(s.randomUUID&&!t&&!e)return s.randomUUID();let a=(e=e||{}).random??e.rng?.()??function(){if(!r){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");r=crypto.getRandomValues.bind(crypto)}return r(i)}();if(a.length<16)throw Error("Random bytes length must be >= 16");if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){if((n=n||0)<0||n+16>t.length)throw RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=a[e];return t}return function(e,t=0){return(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase()}(a)},u=n(40211),c=n(67615),l=n(97817),d=n(3157),h=n(79750),f=n(68851),p=n(5853),y=n(96750),g=n(78743),m=n(85315),v=n(76613),b=n(2070),w=n(59326),_=["addListener","removeListener"],x=["addEventListener","removeEventListener"],I=["on","off"];function E(e,t,n,r){if((0,b.m)(n)&&(r=n,n=void 0),r)return E(e,t,n).pipe((0,w.Z)(r));var s=(0,p.CR)((0,b.m)(e.addEventListener)&&(0,b.m)(e.removeEventListener)?x.map(function(r){return function(s){return e[r](t,s,n)}}):(0,b.m)(e.addListener)&&(0,b.m)(e.removeListener)?_.map($(e,t)):(0,b.m)(e.on)&&(0,b.m)(e.off)?I.map($(e,t)):[],2),i=s[0],o=s[1];if(!i&&(0,v.z)(e))return(0,m.z)(function(e){return E(e,t,n)})((0,y.Xf)(e));if(!i)throw TypeError("Invalid event target");return new g.y(function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return i(t),function(){return o(t)}})}function $(e,t){return function(n){return function(r){return e[n](t,r)}}}var S=n(7449),q=n(95767),R=n(44465),k=n(17753),j=n(4382),T=n(30325),O=n(66692);function A(e){return e<=0?function(){return O.E}:(0,k.e)(function(t,n){var r=0;t.subscribe((0,j.x)(n,function(t){++r<=e&&(n.next(t),e<=r&&n.complete())}))})}var P=n(8365);let D=e=>({context:t})=>{let{count:n,include:r,exclude:s,responseType:i="message.received"}=e;return{count:n,domain:t.domain,from:t.connectTo,include:r?Array.isArray(r)?r:[r]:[],exclude:s?Array.isArray(s)?s:[s]:[],responseType:i,target:t.target,to:t.name}},C=e=>t=>{let{data:n}=t;return(!e.include.length||e.include.includes(n.type))&&(!e.exclude.length||!e.exclude.includes(n.type))&&n.domain===e.domain&&n.from===e.from&&n.to===e.to&&(!e.target||t.source===e.target)},M=e=>t=>({type:e,message:t}),U=(0,f.P)(()=>E(window,"message")),V=e=>(0,u.Y$)(({input:t})=>{var n,r,s,i;return U.pipe(e?(0,S.U)(e):(0,q.z)(),(0,R.h)(C(t)),(0,S.U)(M(t.responseType)),t.count?(0,q.z)((n=t.count,void 0===r&&(r=null),r=null!=r?r:n,(0,k.e)(function(e,t){var s=[],i=0;e.subscribe((0,j.x)(t,function(e){var o,a,u,c,l=null;i++%r==0&&s.push([]);try{for(var d=(0,p.XA)(s),h=d.next();!h.done;h=d.next()){var f=h.value;f.push(e),n<=f.length&&(l=null!=l?l:[]).push(f)}}catch(e){o={error:e}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(o)throw o.error}}if(l)try{for(var y=(0,p.XA)(l),g=y.next();!g.done;g=y.next()){var f=g.value;(0,T.P)(s,f),t.next(f)}}catch(e){u={error:e}}finally{try{g&&!g.done&&(c=y.return)&&c.call(y)}finally{if(u)throw u.error}}},function(){var e,n;try{for(var r=(0,p.XA)(s),i=r.next();!i.done;i=r.next()){var o=i.value;t.next(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}t.complete()},void 0,function(){s=null}))})),(s=e=>e,(0,b.m)(void 0)?(0,m.z)(s,i,1):(0,m.z)(s,1)),A(t.count)):(0,q.z)())}),L="sanity/comlink",N="comlink/response",z="comlink/heartbeat",W="comlink/disconnect",B="comlink/handshake/syn",G="comlink/handshake/syn-ack",H="comlink/handshake/ack",F=e=>t=>t.pipe(A(1),(0,S.U)(()=>{throw Error(e)})),J=()=>(0,c.cY)({types:{},actors:{listen:(0,u.Y$)(({input:e})=>{let t=e.signal?E(e.signal,"abort").pipe(F(`Request ${e.requestId} aborted`)):O.E;return E(window,"message").pipe((0,R.h)(t=>t.data?.type===N&&t.data?.responseTo===e.requestId&&!!t.source&&e.sources.has(t.source)),A(e.sources.size),(0,k.e)(function(e,n){(0,y.Xf)(t).subscribe((0,j.x)(n,function(){return n.complete()},P.Z)),n.closed||e.subscribe(n)}))})},actions:{"send message":({context:e},t)=>{let{sources:n,targetOrigin:r}=e,{message:s}=t;n.forEach(e=>{e.postMessage(s,{targetOrigin:r})})},"on success":(0,l.s)(({context:e})=>e.parentRef,({context:e,self:t})=>(e.response&&e.resolvable?.resolve(e.response),{type:"request.success",requestId:t.id,response:e.response,responseTo:e.responseTo})),"on fail":(0,l.s)(({context:e})=>e.parentRef,({context:e,self:t})=>(e.suppressWarnings||console.warn(`[@sanity/comlink] Received no response to message '${e.type}' on client '${e.from}' (ID: '${e.id}').`),e.resolvable?.reject(Error("No response received")),{type:"request.failed",requestId:t.id})),"on abort":(0,l.s)(({context:e})=>e.parentRef,({context:e,self:t})=>(e.resolvable?.reject(Error("Request aborted")),{type:"request.aborted",requestId:t.id}))},guards:{expectsResponse:({context:e})=>e.expectResponse},delays:{initialTimeout:0,responseTimeout:({context:e})=>e.responseTimeout??3e3}}).createMachine({context:({input:e})=>({channelId:e.channelId,data:e.data,domain:e.domain,expectResponse:e.expectResponse??!1,from:e.from,id:`msg-${a()}`,parentRef:e.parentRef,resolvable:e.resolvable,response:null,responseTimeout:e.responseTimeout,responseTo:e.responseTo,signal:e.signal,sources:e.sources instanceof Set?e.sources:new Set([e.sources]),suppressWarnings:e.suppressWarnings,targetOrigin:e.targetOrigin,to:e.to,type:e.type}),initial:"idle",on:{abort:".aborted"},states:{idle:{after:{initialTimeout:[{target:"sending"}]}},sending:{entry:{type:"send message",params:({context:e})=>{let{channelId:t,data:n,domain:r,from:s,id:i,responseTo:o,to:a,type:u}=e;return{message:{channelId:t,data:n,domain:r,from:s,id:i,to:a,type:u,responseTo:o}}}},always:[{guard:"expectsResponse",target:"awaiting"},"success"]},awaiting:{invoke:{id:"listen for response",src:"listen",input:({context:e})=>({requestId:e.id,sources:e.sources,signal:e.signal}),onError:"aborted"},after:{responseTimeout:"failed"},on:{message:{actions:(0,d.a)({response:({event:e})=>e.data.data,responseTo:({event:e})=>e.data.responseTo}),target:"success"}}},failed:{type:"final",entry:"on fail"},success:{type:"final",entry:"on success"},aborted:{type:"final",entry:"on abort"}},output:({context:e,self:t})=>({requestId:t.id,response:e.response,responseTo:e.responseTo})});(0,u.E9)(({sendBack:e,input:t})=>{let n=()=>{e(t.event)};t.immediate&&n();let r=setInterval(n,t.interval);return()=>{clearInterval(r)}});let Y=()=>(0,c.cY)({types:{},actors:{requestMachine:J(),listen:V()},actions:{"buffer handshake":(0,d.a)({handshakeBuffer:({event:e,context:t})=>((0,c.ZD)(e,"message.received"),[...t.handshakeBuffer,e])}),"buffer message":(0,l.e)(({enqueue:e})=>{e.assign({buffer:({event:e,context:t})=>((0,c.ZD)(e,"post"),[...t.buffer,{data:e.data,resolvable:e.resolvable,options:e.options}])}),e.emit(({event:e})=>((0,c.ZD)(e,"post"),{type:"buffer.added",message:e.data}))}),"create request":(0,d.a)({requests:({context:e,event:t,self:n,spawn:r})=>{(0,c.ZD)(t,"request");let s=(Array.isArray(t.data)?t.data:[t.data]).map(t=>r("requestMachine",{id:`req-${a()}`,input:{channelId:e.channelId,data:t.data,domain:e.domain,expectResponse:t.expectResponse,from:e.name,parentRef:n,resolvable:t.resolvable,responseTimeout:t.options?.responseTimeout,responseTo:t.responseTo,signal:t.options?.signal,sources:e.target,suppressWarnings:t.options?.suppressWarnings,targetOrigin:e.targetOrigin,to:e.connectTo,type:t.type}}));return[...e.requests,...s]}}),"emit heartbeat":(0,l.a)(()=>({type:"heartbeat"})),"emit received message":(0,l.e)(({enqueue:e})=>{e.emit(({event:e})=>((0,c.ZD)(e,"message.received"),{type:"message",message:e.message.data}))}),"emit status":(0,l.a)((e,t)=>({type:"status",status:t.status})),"post message":(0,h.r)(({event:e})=>((0,c.ZD)(e,"post"),{type:"request",data:{data:e.data.data,expectResponse:!!e.resolvable,type:e.data.type,resolvable:e.resolvable,options:e.options}})),"process pending handshakes":(0,l.e)(({context:e,enqueue:t})=>{e.handshakeBuffer.forEach(e=>t.raise(e)),t.assign({handshakeBuffer:[]})}),"remove request":(0,l.e)(({context:e,enqueue:t,event:n})=>{(0,c.ZD)(n,["request.success","request.failed","request.aborted"]),(0,h.s)(n.requestId),t.assign({requests:e.requests.filter(({id:e})=>e!==n.requestId)})}),"send response":(0,h.r)(({event:e})=>((0,c.ZD)(e,["message.received","heartbeat.received"]),{type:"request",data:{type:N,responseTo:e.message.data.id,data:void 0}})),"send handshake syn ack":(0,h.r)({type:"request",data:{type:G}}),"send pending messages":(0,l.e)(({enqueue:e})=>{e.raise(({context:e})=>({type:"request",data:e.buffer.map(({data:e,resolvable:t,options:n})=>({data:e.data,type:e.type,expectResponse:!!t,resolvable:t,options:n}))})),e.emit(({context:e})=>({type:"buffer.flushed",messages:e.buffer.map(({data:e})=>e)})),e.assign({buffer:[]})}),"set connection config":(0,d.a)({channelId:({event:e})=>((0,c.ZD)(e,"handshake.syn"),e.message.data.channelId),target:({event:e})=>((0,c.ZD)(e,"handshake.syn"),e.message.source||void 0),targetOrigin:({event:e})=>((0,c.ZD)(e,"handshake.syn"),e.message.origin)})},guards:{hasSource:({context:e})=>null!==e.target}}).createMachine({id:"node",context:({input:e})=>({buffer:[],channelId:null,connectTo:e.connectTo,domain:e.domain??L,handshakeBuffer:[],name:e.name,requests:[],target:void 0,targetOrigin:null}),invoke:{id:"listen for handshake syn",src:"listen",input:D({include:B,responseType:"handshake.syn"})},on:{"request.success":{actions:"remove request"},"request.failed":{actions:"remove request"},"request.aborted":{actions:"remove request"},"handshake.syn":{actions:"set connection config",target:".handshaking"}},initial:"idle",states:{idle:{entry:[{type:"emit status",params:{status:"idle"}}],on:{post:{actions:"buffer message"}}},handshaking:{guard:"hasSource",entry:["send handshake syn ack",{type:"emit status",params:{status:"handshaking"}}],invoke:[{id:"listen for handshake ack",src:"listen",input:D({include:H,count:1,responseType:"handshake.complete"}),onDone:"connected"},{id:"listen for disconnect",src:"listen",input:D({include:W,count:1,responseType:"disconnect"})},{id:"listen for messages",src:"listen",input:D({exclude:[W,B,H,z,N]})}],on:{request:{actions:"create request"},post:{actions:"buffer message"},"message.received":{actions:"buffer handshake"},disconnect:{target:"idle"}}},connected:{entry:["process pending handshakes","send pending messages",{type:"emit status",params:{status:"connected"}}],invoke:[{id:"listen for messages",src:"listen",input:D({exclude:[W,B,H,z,N]})},{id:"listen for heartbeat",src:"listen",input:D({include:z,responseType:"heartbeat.received"})},{id:"listen for disconnect",src:"listen",input:D({include:W,count:1,responseType:"disconnect"})}],on:{request:{actions:"create request"},post:{actions:"post message"},disconnect:{target:"idle"},"message.received":{actions:["send response","emit received message"]},"heartbeat.received":{actions:["send response","emit heartbeat"]}}}}}),K=(e,t=Y())=>{let n;let r=(0,h.c)(t,{input:e}),s=new Map,i=new Map;r.on("message",({message:e})=>{let t=s.get(e.type);if(t){t.forEach(t=>t(e.data));return}let n=i.get(e.type);n?n.add(e):i.set(e.type,new Set([e]))});let o=()=>{r.stop()};return{actor:r,fetch:(e,t,n)=>{let s,i;let{responseTimeout:o=1e4,signal:a,suppressWarnings:u}=n||{},c="function"==typeof Promise.withResolvers?Promise.withResolvers():{promise:new Promise((e,t)=>{s=e,i=t}),resolve:s,reject:i};return r.send({type:"post",data:{type:e,data:t},resolvable:c,options:{responseTimeout:o,signal:a,suppressWarnings:u}}),c.promise},machine:t,on:(e,t,n)=>{let r=s.get(e)||new Set;s.has(e)||s.set(e,r),r.add(t);let o=i.get(e);if(o){let r=n?.replay??1;Array.from(o).slice(-r).forEach(({data:e})=>t(e)),i.delete(e)}return()=>{r.delete(t)}},onStatus:(e,t)=>{let s=r.on("status",r=>{n=r.status,t&&r.status!==t||e(r.status)});return n&&e(n),()=>s.unsubscribe()},post:(e,t)=>{r.send({type:"post",data:{type:e,data:t}})},start:()=>(r.start(),o),stop:o}}},35992:function(e,t,n){n.d(t,{Bk:function(){return i},Qs:function(){return d},Uw:function(){return a},Y5:function(){return u},id:function(){return c},re:function(){return l}});let r=new Set,s="checking";function i(e){if(s!==e)for(let t of(s=e,r))t()}let o=new Set;function a(e){for(let e of o)e()}let u=new Set,c=null;function l(e){for(let t of(c=e,u))t()}function d(e,t){for(let e of u)e()}},78848:function(e,t,n){n.d(t,{default:function(){return i}});var r=n(57437);let s=(0,n(30166).default)(()=>n.e(133).then(n.bind(n,35133)),{loadableGenerated:{webpack:()=>[require.resolveWeak("../_chunks-es/SanityLiveStream.js")]},ssr:!1});function i(e){return(0,r.jsx)(s,{...e})}},65661:function(e,t,n){n.d(t,{default:function(){return ni}});var r,s=n(57437),i=n(23742),o=n(60349),a=n(78743),u=n(68851),c=n(79473),l=n(87935),d=n(85315),h=n(48522),f=n(46737),p=n(89155),y=n(17482),g=n(87477),m=n(81105),v=n(38214),b=n(30867),w=n(67387),_=n(71064),x=n(36381),I=n(7449),E=n(60551),$=n(19142);function S(e,t){var n="object"==typeof t;return new Promise(function(r,s){var i=new $.Hp({next:function(e){r(e),i.unsubscribe()},error:s,complete:function(){n?r(t.defaultValue):s(new E.K)}});e.subscribe(i)})}var q=n(38805),R=n(3819),k=n(44465);let j="drafts.",T="versions.";function O(e){return e.startsWith(j)}function A(e){return e.startsWith(T)}function P(e){return A(e)?j+M(e):O(e)?e:j+e}function D(e,t){if("drafts"===t||"published"===t)throw Error('Version can not be "published" or "drafts"');return`${T}${t}.${M(e)}`}function C(e){if(!A(e))return;let[t,n,...r]=e.split(".");return n}function M(e){return A(e)?e.split(".").slice(2).join("."):O(e)?e.slice(j.length):e}let U=e=>crypto.getRandomValues(new Uint8Array(e)),V=(e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,s=-~(1.6*r*t/e.length);return (i=t)=>{let o="";for(;;){let t=n(s),a=0|s;for(;a--;)if((o+=e[t[a]&r]||"").length===i)return o}}},L=/\r\n|[\n\r\u2028\u2029]/;function N(e,t){let n=0;for(let r=0;r<t.length;r++){let s=t[r].length+1;if(n+s>e)return{line:r+1,column:e-n};n+=s}return{line:t.length,column:t[t.length-1]?.length??0}}class z extends Error{response;statusCode=400;responseBody;details;constructor(e,t){let n=B(e,t);super(n.message),Object.assign(this,n)}}class W extends Error{response;statusCode=500;responseBody;details;constructor(e){let t=B(e);super(t.message),Object.assign(this,t)}}function B(e,t){let n=e.body,r={response:e,statusCode:e.statusCode,responseBody:-1!==(e.headers["content-type"]||"").toLowerCase().indexOf("application/json")?JSON.stringify(n,null,2):n,message:"",details:void 0};if(!(0,q.Uy)(n))return r.message=F(e,n),r;let s=n.error;if("string"==typeof s&&"string"==typeof n.message)return r.message=`${s} - ${n.message}`,r;if("object"!=typeof s||null===s)return"string"==typeof s?r.message=s:"string"==typeof n.message?r.message=n.message:r.message=F(e,n),r;if("type"in s&&"mutationError"===s.type&&"description"in s&&"string"==typeof s.description||"type"in s&&"actionError"===s.type&&"description"in s&&"string"==typeof s.description){let e=s.items||[],t=e.slice(0,5).map(e=>e.error?.description).filter(Boolean),i=t.length?`:
- ${t.join(`
- `)}`:"";return e.length>5&&(i+=`
...and ${e.length-5} more`),r.message=`${s.description}${i}`,r.details=n.error,r}if(G(s)){let e=t?.options?.query?.tag;return r.message=H(s,e),r.details=n.error,r}return"description"in s&&"string"==typeof s.description?(r.message=s.description,r.details=s):r.message=F(e,n),r}function G(e){return(0,q.Uy)(e)&&"queryParseError"===e.type&&"string"==typeof e.query&&"number"==typeof e.start&&"number"==typeof e.end}function H(e,t){let{query:n,start:r,end:s,description:i}=e;if(!n||typeof r>"u")return`GROQ query parse error: ${i}`;let o=t?`

Tag: ${t}`:"";return`GROQ query parse error:
${function(e,t,n){let r=e.split(L),{start:s,end:i,markerLines:o}=function(e,t){let n={...e.start},r={...n,...e.end},s=n.line??-1,i=n.column??0,o=r.line,a=r.column,u=Math.max(s-3,0),c=Math.min(t.length,o+3);-1===s&&(u=0),-1===o&&(c=t.length);let l=o-s,d={};if(l)for(let e=0;e<=l;e++){let n=e+s;if(i){if(0===e){let e=t[n-1].length;d[n]=[i,e-i+1]}else if(e===l)d[n]=[0,a];else{let r=t[n-e].length;d[n]=[0,r]}}else d[n]=!0}else i===a?i?d[s]=[i,0]:d[s]=!0:d[s]=[i,a-i];return{start:u,end:c,markerLines:d}}({start:N(t.start,r),end:t.end?N(t.end,r):void 0},r),a=`${i}`.length;return e.split(L,i).slice(s,i).map((e,t)=>{let r=s+1+t,i=` ${` ${r}`.slice(-a)} |`,u=o[r],c=!o[r+1];if(!u)return` ${i}${e.length>0?` ${e}`:""}`;let l="";if(Array.isArray(u)){let t=e.slice(0,Math.max(u[0]-1,0)).replace(/[^\t]/g," "),r=u[1]||1;l=[`
 `,i.replace(/\d/g," ")," ",t,"^".repeat(r)].join(""),c&&n&&(l+=" "+n)}return[">",i,e.length>0?` ${e}`:"",l].join("")}).join(`
`)}(n,{start:r,end:s},i)}${o}`}function F(e,t){let n="string"==typeof t?` (${t.length>100?`${t.slice(0,100)}\u2026`:t})`:"",r=e.statusMessage?` ${e.statusMessage}`:"";return`${e.method}-request to ${e.url} resulted in HTTP ${e.statusCode}${r}${n}`}class J extends Error{projectId;addOriginUrl;constructor({projectId:e}){super("CorsOriginError"),this.name="CorsOriginError",this.projectId=e;let t=new URL(`https://sanity.io/manage/project/${e}/api`);if("u">typeof location){let{origin:e}=location;t.searchParams.set("cors","add"),t.searchParams.set("origin",e),this.addOriginUrl=t,this.message=`The current origin is not allowed to connect to the Live Content API. Add it here: ${t}`}else this.message=`The current origin is not allowed to connect to the Live Content API. Change your configuration here: ${t}`}}let Y={onResponse:(e,t)=>{if(e.statusCode>=500)throw new W(e);if(e.statusCode>=400)throw new z(e,t);return e}};function K(e,t={}){return(0,i.xl)([(0,o.XD)({shouldRetry:X}),...e,function(e={}){let t={},n=t=>void 0!==e.ignoreWarnings&&(Array.isArray(e.ignoreWarnings)?e.ignoreWarnings:[e.ignoreWarnings]).some(e=>"string"==typeof e?t.includes(e):e instanceof RegExp&&e.test(t));return{onResponse:e=>{let r=e.headers["x-sanity-warning"];for(let e of Array.isArray(r)?r:[r])!e||t[e]||n(e)||(t[e]=!0,console.warn(e));return e}}}(t),(0,o.ll)(),(0,o.wE)(),(0,o.YD)(),Y,(0,o.LO)({implementation:a.y})])}function X(e,t,n){if(0===n.maxRetries)return!1;let r="GET"===n.method||"HEAD"===n.method,s=(n.uri||n.url).startsWith("/data/query"),i=e.response&&(429===e.response.statusCode||502===e.response.statusCode||503===e.response.statusCode);return(!!r||!!s)&&!!i||o.XD.shouldRetry(e,t,n)}function Z(e){return"https://www.sanity.io/help/"+e}let Q=["image","file"],ee=["before","after","replace"],et=e=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(e))throw Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},en=e=>{if(!/^[-a-z0-9]+$/i.test(e))throw Error("`projectId` can only contain only a-z, 0-9 and dashes")},er=e=>{if(-1===Q.indexOf(e))throw Error(`Invalid asset type: ${e}. Must be one of ${Q.join(", ")}`)},es=(e,t)=>{if(null===t||"object"!=typeof t||Array.isArray(t))throw Error(`${e}() takes an object of properties`)},ei=(e,t)=>{if("string"!=typeof t||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(t)||t.includes(".."))throw Error(`${e}(): "${t}" is not a valid document ID`)},eo=(e,t)=>{if(!t._id)throw Error(`${e}() requires that the document contains an ID ("_id" property)`);ei(e,t._id)},ea=(e,t)=>{if("string"!=typeof t)throw Error(`\`${e}()\`: \`${t}\` is not a valid document type`)},eu=(e,t)=>{if(!t._type)throw Error(`\`${e}()\` requires that the document contains a type (\`_type\` property)`);ea(e,t._type)},ec=(e,t)=>{if(t._id&&t._id!==e)throw Error(`The provided document ID (\`${t._id}\`) does not match the generated version ID (\`${e}\`)`)},el=(e,t,n)=>{let r="insert(at, selector, items)";if(-1===ee.indexOf(e)){let e=ee.map(e=>`"${e}"`).join(", ");throw Error(`${r} takes an "at"-argument which is one of: ${e}`)}if("string"!=typeof t)throw Error(`${r} takes a "selector"-argument which must be a string`);if(!Array.isArray(n))throw Error(`${r} takes an "items"-argument which must be an array`)},ed=e=>{if(e.dataset)return e.dataset;let t=e.resource;if(t&&"dataset"===t.type){let e=t.id.split(".");if(2!==e.length)throw Error('Dataset resource ID must be in the format "project.dataset"');return e[1]}throw Error("`dataset` must be provided to perform queries")},eh=e=>{if("string"!=typeof e||!/^[a-z0-9._-]{1,75}$/i.test(e))throw Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return e},ef=e=>{let t=e.resource;if(!t)throw Error("`resource` must be provided to perform resource queries");let{type:n,id:r}=t;switch(n){case"dataset":if(2!==r.split(".").length)throw Error('Dataset resource ID must be in the format "project.dataset"');return;case"dashboard":case"media-library":case"canvas":return;default:throw Error(`Unsupported resource type: ${n.toString()}`)}},ep=(e,t)=>{if(t.resource)throw Error(`\`${e}\` does not support resource-based operations`)},ey=e=>{var t;let n,r;return t=(...t)=>console.warn(e.join(" "),...t),n=!1,(...e)=>(n||(r=t(...e),n=!0),r)},eg=ey(["Because you set `withCredentials` to true, we will override your `useCdn`","setting to be false since (cookie-based) credentials are never set on the CDN"]),em=ey(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),ev=ey(["The Sanity client is configured with the `perspective` set to `drafts` or `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),eb=ey(["The `previewDrafts` perspective has been renamed to  `drafts` and will be removed in a future API version"]),ew=ey(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.",`See ${Z("js-client-browser-token")} for more information and how to hide this warning.`]),e_=ey(["You have configured Sanity client to use a token, but also provided `withCredentials: true`.","This is no longer supported - only token will be used - remove `withCredentials: true`."]),ex=ey(["Using the Sanity client without specifying an API version is deprecated.",`See ${Z("js-client-api-version")}`]),eI=(ey(["The default export of @sanity/client has been deprecated. Use the named export `createClient` instead."]),ey(["You have called `createVersion()` with a defined `document`. The recommended approach is to provide a `baseId` and `releaseId` instead."])),eE=ey(["The `~experimental_resource` configuration property has been renamed to `resource`.","Please update your client configuration to use `resource` instead. Support for `~experimental_resource` will be removed in a future version."]),e$={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,stega:{enabled:!1}},eS=["localhost","127.0.0.1","0.0.0.0"],eq=e=>-1!==eS.indexOf(e);function eR(e){if(Array.isArray(e)&&e.length>1&&e.includes("raw"))throw TypeError('Invalid API perspective value: "raw". The raw-perspective can not be combined with other perspectives')}let ek=(e,t)=>{let n={...t,...e,stega:{..."boolean"==typeof t.stega?{enabled:t.stega}:t.stega||e$.stega,..."boolean"==typeof e.stega?{enabled:e.stega}:e.stega||{}}};n.apiVersion||ex();let r={...e$,...n};r["~experimental_resource"]&&!r.resource&&(eE(),r.resource=r["~experimental_resource"]);let s=r.resource,i=r.useProjectHostname&&!s;if(typeof Promise>"u"){let e=Z("js-client-promise-polyfill");throw Error(`No native Promise-implementation found, polyfill needed - see ${e}`)}if(i&&!r.projectId)throw Error("Configuration must contain `projectId`");if(s&&ef(r),"u">typeof r.perspective&&eR(r.perspective),"encodeSourceMap"in r)throw Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?");if("encodeSourceMapAtPath"in r)throw Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?");if("boolean"!=typeof r.stega.enabled)throw Error(`stega.enabled must be a boolean, received ${r.stega.enabled}`);if(r.stega.enabled&&void 0===r.stega.studioUrl)throw Error("stega.studioUrl must be defined when stega.enabled is true");if(r.stega.enabled&&"string"!=typeof r.stega.studioUrl&&"function"!=typeof r.stega.studioUrl)throw Error(`stega.studioUrl must be a string or a function, received ${r.stega.studioUrl}`);let o="u">typeof window&&window.location&&window.location.hostname,a=o&&eq(window.location.hostname),u=!!r.token;r.withCredentials&&u&&(e_(),r.withCredentials=!1),o&&a&&u&&!0!==r.ignoreBrowserTokenWarning?ew():typeof r.useCdn>"u"&&em(),i&&en(r.projectId),r.dataset&&et(r.dataset),"requestTagPrefix"in r&&(r.requestTagPrefix=r.requestTagPrefix?eh(r.requestTagPrefix).replace(/\.+$/,""):void 0),r.apiVersion=`${r.apiVersion}`.replace(/^v/,""),r.isDefaultApi=r.apiHost===e$.apiHost,!0===r.useCdn&&r.withCredentials&&eg(),r.useCdn=!1!==r.useCdn&&!r.withCredentials,function(e){if("1"===e||"X"===e)return;let t=new Date(e);if(!(/^\d{4}-\d{2}-\d{2}$/.test(e)&&t instanceof Date&&t.getTime()>0))throw Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}(r.apiVersion);let c=r.apiHost.split("://",2),l=c[0],d=c[1],h=r.isDefaultApi?"apicdn.sanity.io":d;return i?(r.url=`${l}://${r.projectId}.${d}/v${r.apiVersion}`,r.cdnUrl=`${l}://${r.projectId}.${h}/v${r.apiVersion}`):(r.url=`${r.apiHost}/v${r.apiVersion}`,r.cdnUrl=r.url),r};class ej extends Error{name="ConnectionFailedError"}class eT extends Error{name="DisconnectError";reason;constructor(e,t,n={}){super(e,n),this.reason=t}}class eO extends Error{name="ChannelError";data;constructor(e,t){super(e),this.data=t}}class eA extends Error{name="MessageError";data;constructor(e,t,n={}){super(e,n),this.data=t}}class eP extends Error{name="MessageParseError"}let eD=["channelError","disconnect"];function eC(e,t){return(0,u.P)(()=>{let t=e();return(0,c.b)(t)?t:(0,l.of)(t)}).pipe((0,d.z)(e=>new a.y(n=>{let r=t.includes("open"),s=t.includes("reconnect");function i(t){if("data"in t){let[e,r]=eM(t);n.error(e?new eP("Unable to parse EventSource error message",{cause:r}):new eA((r?.data).message,r));return}e.readyState===e.CLOSED?n.error(new ej("EventSource connection failed")):s&&n.next({type:"reconnect"})}function o(){n.next({type:"open"})}function a(t){let[r,s]=eM(t);if(r){n.error(new eP("Unable to parse EventSource message",{cause:r}));return}if("channelError"===t.type){let t=new URL(e.url).searchParams.get("tag");n.error(new eO(function(e,t){let n=e.error;return n?G(n)?H(n,t):n.description?n.description:"string"==typeof n?n:JSON.stringify(n,null,2):e.message||"Unknown listener error"}(s?.data,t),s.data));return}if("disconnect"===t.type){n.error(new eT(`Server disconnected client: ${s.data?.reason||"unknown error"}`));return}n.next({type:t.type,id:t.lastEventId,...s.data?{data:s.data}:{}})}e.addEventListener("error",i),r&&e.addEventListener("open",o);let u=[...new Set([...eD,...t])].filter(e=>"error"!==e&&"open"!==e&&"reconnect"!==e);return u.forEach(t=>e.addEventListener(t,a)),()=>{e.removeEventListener("error",i),r&&e.removeEventListener("open",o),u.forEach(t=>e.removeEventListener(t,a)),e.close()}})))}function eM(e){try{let t="string"==typeof e.data&&JSON.parse(e.data);return[null,{type:e.type,id:e.lastEventId,...!function(e){for(let t in e)return!1;return!0}(t)?{data:t}:{}}]}catch(e){return[e,null]}}function eU(e){if("string"==typeof e)return{id:e};if(Array.isArray(e))return{query:"*[_id in $ids]",params:{ids:e}};if("object"==typeof e&&null!==e&&"query"in e&&"string"==typeof e.query)return"params"in e&&"object"==typeof e.params&&null!==e.params?{query:e.query,params:e.params}:{query:e.query};let t=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw Error(`Unknown selection - must be one of:

${t}`)}class eV{selection;operations;constructor(e,t={}){this.selection=e,this.operations=t}set(e){return this._assign("set",e)}setIfMissing(e){return this._assign("setIfMissing",e)}diffMatchPatch(e){return es("diffMatchPatch",e),this._assign("diffMatchPatch",e)}unset(e){if(!Array.isArray(e))throw Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:e}),this}inc(e){return this._assign("inc",e)}dec(e){return this._assign("dec",e)}insert(e,t,n){return el(e,t,n),this._assign("insert",{[e]:t,items:n})}append(e,t){return this.insert("after",`${e}[-1]`,t)}prepend(e,t){return this.insert("before",`${e}[0]`,t)}splice(e,t,n,r){let s=t<0?t-1:t,i=typeof n>"u"||-1===n?-1:Math.max(0,t+n),o=`${e}[${s}:${s<0&&i>=0?"":i}]`;return this.insert("replace",o,r||[])}ifRevisionId(e){return this.operations.ifRevisionID=e,this}serialize(){return{...eU(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(e,t,n=!0){return es(e,t),this.operations=Object.assign({},this.operations,{[e]:Object.assign({},n&&this.operations[e]||{},t)}),this}_set(e,t){return this._assign(e,t,!1)}}class eL extends eV{#e;constructor(e,t,n){super(e,t),this.#e=n}clone(){return new eL(this.selection,{...this.operations},this.#e)}commit(e){if(!this.#e)throw Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");let t=Object.assign({returnFirst:"string"==typeof this.selection,returnDocuments:!0},e);return this.#e.mutate({patch:this.serialize()},t)}}class eN extends eV{#e;constructor(e,t,n){super(e,t),this.#e=n}clone(){return new eN(this.selection,{...this.operations},this.#e)}commit(e){if(!this.#e)throw Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");let t=Object.assign({returnFirst:"string"==typeof this.selection,returnDocuments:!0},e);return this.#e.mutate({patch:this.serialize()},t)}}let ez={returnDocuments:!1};class eW{operations;trxId;constructor(e=[],t){this.operations=e,this.trxId=t}create(e){return es("create",e),this._add({create:e})}createIfNotExists(e){let t="createIfNotExists";return es(t,e),eo(t,e),this._add({[t]:e})}createOrReplace(e){let t="createOrReplace";return es(t,e),eo(t,e),this._add({[t]:e})}delete(e){return ei("delete",e),this._add({delete:{id:e}})}transactionId(e){return e?(this.trxId=e,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(e){return this.operations.push(e),this}}class eB extends eW{#e;constructor(e,t,n){super(e,n),this.#e=t}clone(){return new eB([...this.operations],this.#e,this.trxId)}commit(e){if(!this.#e)throw Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return this.#e.mutate(this.serialize(),Object.assign({transactionId:this.trxId},ez,e||{}))}patch(e,t){let n="function"==typeof t,r="string"!=typeof e&&e instanceof eN,s="object"==typeof e&&("query"in e||"id"in e);if(r)return this._add({patch:e.serialize()});if(n){let n=t(new eN(e,{},this.#e));if(!(n instanceof eN))throw Error("function passed to `patch()` must return the patch");return this._add({patch:n.serialize()})}if(s){let n=new eN(e,t||{},this.#e);return this._add({patch:n.serialize()})}return this._add({patch:{id:e,...t}})}}class eG extends eW{#e;constructor(e,t,n){super(e,n),this.#e=t}clone(){return new eG([...this.operations],this.#e,this.trxId)}commit(e){if(!this.#e)throw Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return this.#e.mutate(this.serialize(),Object.assign({transactionId:this.trxId},ez,e||{}))}patch(e,t){let n="function"==typeof t;if("string"!=typeof e&&e instanceof eL)return this._add({patch:e.serialize()});if(n){let n=t(new eL(e,{},this.#e));if(!(n instanceof eL))throw Error("function passed to `patch()` must return the patch");return this._add({patch:n.serialize()})}return this._add({patch:{id:e,...t}})}}let eH=({query:e,params:t={},options:n={}})=>{let r=new URLSearchParams,{tag:s,includeMutations:i,returnQuery:o,...a}=n;for(let[n,i]of(s&&r.append("tag",s),r.append("query",e),Object.entries(t)))void 0!==i&&r.append(`$${n}`,JSON.stringify(i));for(let[e,t]of Object.entries(a))t&&r.append(e,`${t}`);return!1===o&&r.append("returnQuery","false"),!1===i&&r.append("includeMutations","false"),`?${r}`},eF=(e,t)=>!1===e?void 0:typeof e>"u"?t:e,eJ=(e={})=>({dryRun:e.dryRun,returnIds:!0,returnDocuments:eF(e.returnDocuments,!0),visibility:e.visibility||"sync",autoGenerateArrayKeys:e.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:e.skipCrossDatasetReferenceValidation}),eY=e=>"response"===e.type,eK=e=>e.body,eX=(e,t)=>e.reduce((e,n)=>(e[t(n)]=n,e),Object.create(null));function eZ(e,t,r,s,i={},o={}){let a="stega"in o?{...r||{},..."boolean"==typeof o.stega?{enabled:o.stega}:o.stega||{}}:r,u=a.enabled?(0,q.NG)(i):i,c=!1===o.filterResponse?e=>e:e=>e.result,{cache:l,next:d,...f}={useAbortSignal:"u">typeof o.signal,resultSourceMap:a.enabled?"withKeyArraySelector":o.resultSourceMap,...o,returnQuery:!1===o.filterResponse&&!1!==o.returnQuery},p=tn(e,t,"query",{query:s,params:u},"u">typeof l||"u">typeof d?{...f,fetch:{cache:l,next:d}}:f);return a.enabled?p.pipe((0,R.V)((0,h.D)(n.e(138).then(n.bind(n,96138)).then(function(e){return e.stegaEncodeSourceMap$1}).then(({stegaEncodeSourceMap:e})=>e))),(0,I.U)(([e,t])=>{let n=t(e.result,e.resultSourceMap,a);return c({...e,result:n})})):p.pipe((0,I.U)(c))}function eQ(e,t,n,r={}){let s={uri:tf(e,"doc",(()=>{if(!r.releaseId)return n;let e=C(n);if(!e){if(O(n))throw Error(`The document ID (\`${n}\`) is a draft, but \`options.releaseId\` is set as \`${r.releaseId}\``);return D(n,r.releaseId)}if(e!==r.releaseId)throw Error(`The document ID (\`${n}\`) is already a version of \`${e}\` release, but this does not match the provided \`options.releaseId\` (\`${r.releaseId}\`)`);return n})()),json:!0,tag:r.tag,signal:r.signal,query:void 0!==r.includeAllVersions?{includeAllVersions:r.includeAllVersions}:void 0};return td(e,t,s).pipe((0,k.h)(eY),(0,I.U)(e=>{let t=e.body.documents;return t?r.includeAllVersions?t:t[0]:r.includeAllVersions?[]:void 0}))}function e0(e,t,n,r={}){let s={uri:tf(e,"doc",n.join(",")),json:!0,tag:r.tag,signal:r.signal};return td(e,t,s).pipe((0,k.h)(eY),(0,I.U)(e=>{let t=eX(e.body.documents||[],e=>e._id);return n.map(e=>t[e]||null)}))}function e1(e,t,n,r={}){return tn(e,t,"query",{query:"*[sanity::partOfRelease($releaseId)]",params:{releaseId:n}},r)}function e5(e,t,n,r){return eo("createIfNotExists",n),tr(e,t,n,"createIfNotExists",r)}function e2(e,t,n,r){return eo("createOrReplace",n),tr(e,t,n,"createOrReplace",r)}function e7(e,t,n,r,s){return eo("createVersion",n),eu("createVersion",n),eI(),tt(e,t,{actionType:"sanity.action.document.version.create",publishedId:r,document:n},s)}function e3(e,t,n,r,s,i,o){if(!r)throw Error("`createVersion()` requires `baseId` when no `document` is provided");if(!n)throw Error("`createVersion()` requires `publishedId` when `baseId` is provided");return ei("createVersion",r),ei("createVersion",n),tt(e,t,{actionType:"sanity.action.document.version.create",publishedId:n,baseId:r,versionId:s?D(n,s):P(n),ifBaseRevisionId:i},o)}function e6(e,t,n,r){return tn(e,t,"mutate",{mutations:[{delete:eU(n)}]},r)}function e8(e,t,n,r=!1,s){return tt(e,t,{actionType:"sanity.action.document.version.discard",versionId:n,purge:r},s)}function e4(e,t,n,r){return eo("replaceVersion",n),eu("replaceVersion",n),tt(e,t,{actionType:"sanity.action.document.version.replace",document:n},r)}function e9(e,t,n,r,s){return tt(e,t,{actionType:"sanity.action.document.version.unpublish",versionId:n,publishedId:r},s)}function te(e,t,n,r){let s;return tn(e,t,"mutate",{mutations:Array.isArray(s=n instanceof eN||n instanceof eL?{patch:n.serialize()}:n instanceof eB||n instanceof eG?n.serialize():n)?s:[s],transactionId:r&&r.transactionId||void 0},r)}function tt(e,t,n,r){let s=Array.isArray(n)?n:[n];return tn(e,t,"actions",{actions:s,transactionId:r&&r.transactionId||void 0,skipCrossDatasetReferenceValidation:r&&r.skipCrossDatasetReferenceValidation||void 0,dryRun:r&&r.dryRun||void 0},r)}function tn(e,t,n,r,s={}){let i="mutate"===n,o="actions"===n,a=i||o?"":eH(r),u=!i&&!o&&a.length<11264,c=s.returnFirst,{timeout:l,token:d,tag:h,headers:f,returnQuery:p,lastLiveEventId:y,cacheMode:g}=s,m=tf(e,n,u?a:"");return td(e,t,{method:u?"GET":"POST",uri:m,json:!0,body:u?void 0:r,query:i&&eJ(s),timeout:l,headers:f,token:d,tag:h,returnQuery:p,perspective:s.perspective,resultSourceMap:s.resultSourceMap,lastLiveEventId:Array.isArray(y)?y[0]:y,cacheMode:g,canUseCdn:"query"===n,signal:s.signal,fetch:s.fetch,useAbortSignal:s.useAbortSignal,useCdn:s.useCdn}).pipe((0,k.h)(eY),(0,I.U)(eK),(0,I.U)(e=>{if(!i)return e;let t=e.results||[];if(s.returnDocuments)return c?t[0]&&t[0].document:t.map(e=>e.document);let n=c?t[0]&&t[0].id:t.map(e=>e.id);return{transactionId:e.transactionId,results:t,[c?"documentId":"documentIds"]:n}}))}function tr(e,t,n,r,s={}){return tn(e,t,"mutate",{mutations:[{[r]:n}]},Object.assign({returnFirst:!0,returnDocuments:!0},s))}let ts=e=>{let t=e.config();return void 0!==t.dataset&&void 0!==t.projectId||void 0!==t.resource},ti=(e,t)=>ts(e)&&t.startsWith(tf(e,"query")),to=(e,t)=>ts(e)&&t.startsWith(tf(e,"mutate")),ta=(e,t)=>ts(e)&&t.startsWith(tf(e,"doc","")),tu=(e,t)=>ts(e)&&t.startsWith(tf(e,"listen")),tc=(e,t)=>ts(e)&&t.startsWith(tf(e,"history","")),tl=(e,t)=>t.startsWith("/data/")||ti(e,t)||to(e,t)||ta(e,t)||tu(e,t)||tc(e,t);function td(e,t,n){var r;let s=n.url||n.uri,i=e.config(),o=typeof n.canUseCdn>"u"?["GET","HEAD"].indexOf(n.method||"GET")>=0&&tl(e,s):n.canUseCdn,u=(n.useCdn??i.useCdn)&&o,c=n.tag&&i.requestTagPrefix?[i.requestTagPrefix,n.tag].join("."):n.tag||i.requestTagPrefix;if(c&&null!==n.tag&&(n.query={tag:eh(c),...n.query}),["GET","HEAD","POST"].indexOf(n.method||"GET")>=0&&ti(e,s)){let e=n.resultSourceMap??i.resultSourceMap;void 0!==e&&!1!==e&&(n.query={resultSourceMap:e,...n.query});let t=n.perspective||i.perspective;"u">typeof t&&("previewDrafts"===t&&eb(),eR(t),n.query={perspective:Array.isArray(t)?t.join(","):t,...n.query},(Array.isArray(t)&&t.length>0||"previewDrafts"===t||"drafts"===t)&&u&&(u=!1,ev())),n.lastLiveEventId&&(n.query={...n.query,lastLiveEventId:n.lastLiveEventId}),!1===n.returnQuery&&(n.query={returnQuery:"false",...n.query}),u&&"noStale"==n.cacheMode&&(n.query={cacheMode:"noStale",...n.query})}let l=function(e,t={}){let n={};e.headers&&Object.assign(n,e.headers);let r=t.token||e.token;r&&(n.Authorization=`Bearer ${r}`),t.useGlobalApi||e.useProjectHostname||!e.projectId||(n["X-Sanity-Project-ID"]=e.projectId);let s=!!(typeof t.withCredentials>"u"?e.withCredentials:t.withCredentials),i=typeof t.timeout>"u"?e.timeout:t.timeout;return Object.assign({},t,{headers:Object.assign({},n,t.headers||{}),timeout:typeof i>"u"?3e5:i,proxy:t.proxy||e.proxy,json:!0,withCredentials:s,fetch:"object"==typeof t.fetch&&"object"==typeof e.fetch?{...e.fetch,...t.fetch}:t.fetch||e.fetch})}(i,Object.assign({},n,{url:tp(e,s,u)})),d=new a.y(e=>t(l,i.requester).subscribe(e));return n.signal?d.pipe((r=n.signal,e=>new a.y(t=>{let n=()=>t.error(function(e){if(ty)return new DOMException(e?.reason??"The operation was aborted.","AbortError");let t=Error(e?.reason??"The operation was aborted.");return t.name="AbortError",t}(r));if(r&&r.aborted){n();return}let s=e.subscribe(t);return r.addEventListener("abort",n),()=>{r.removeEventListener("abort",n),s.unsubscribe()}}))):d}function th(e,t,n){return td(e,t,n).pipe((0,k.h)(e=>"response"===e.type),(0,I.U)(e=>e.body))}function tf(e,t,n){let r=e.config();if(r.resource){ef(r);let e=tg(r),s=void 0!==n?`${t}/${n}`:t;return`${e}/${s}`.replace(/\/($|\?)/,"$1")}let s=ed(r),i=`/${t}/${s}`;return`/data${void 0!==n?`${i}/${n}`:i}`.replace(/\/($|\?)/,"$1")}function tp(e,t,n=!1){let{url:r,cdnUrl:s}=e.config();return`${n?s:r}/${t.replace(/^\//,"")}`}let ty=!!globalThis.DOMException,tg=e=>{let t=e.resource;if(!t)throw Error("`resource` must be provided to perform resource queries");let{type:n,id:r}=t;switch(n){case"dataset":{let e=r.split(".");if(2!==e.length)throw Error('Dataset ID must be in the format "project.dataset"');return`/projects/${e[0]}/datasets/${e[1]}`}case"canvas":return`/canvases/${r}`;case"media-library":return`/media-libraries/${r}`;case"dashboard":return`/dashboards/${r}`;default:throw Error(`Unsupported resource type: ${n.toString()}`)}};function tm(e,t,n){let r=ed(e.config());return th(e,t,{method:"POST",uri:`/agent/action/generate/${r}`,body:n})}function tv(e,t,n){let r=ed(e.config());return th(e,t,{method:"POST",uri:`/agent/action/transform/${r}`,body:n})}function tb(e,t,n){let r=ed(e.config());return th(e,t,{method:"POST",uri:`/agent/action/translate/${r}`,body:n})}class tw{#e;#t;constructor(e,t){this.#e=e,this.#t=t}generate(e){return tm(this.#e,this.#t,e)}transform(e){return tv(this.#e,this.#t,e)}translate(e){return tb(this.#e,this.#t,e)}}class t_{#e;#t;constructor(e,t){this.#e=e,this.#t=t}generate(e){return(0,f.n)(tm(this.#e,this.#t,e))}transform(e){return(0,f.n)(tv(this.#e,this.#t,e))}translate(e){return(0,f.n)(tb(this.#e,this.#t,e))}prompt(e){return(0,f.n)(function(e,t,n){let r=ed(e.config());return th(e,t,{method:"POST",uri:`/agent/action/prompt/${r}`,body:n})}(this.#e,this.#t,e))}patch(e){return(0,f.n)(function(e,t,n){let r=ed(e.config());return th(e,t,{method:"POST",uri:`/agent/action/patch/${r}`,body:n})}(this.#e,this.#t,e))}}class tx{#e;#t;constructor(e,t){this.#e=e,this.#t=t}upload(e,t,n){return tE(this.#e,this.#t,e,t,n)}}class tI{#e;#t;constructor(e,t){this.#e=e,this.#t=t}upload(e,t,n){let r=tE(this.#e,this.#t,e,t,n);return(0,f.n)(r.pipe((0,k.h)(e=>"response"===e.type),(0,I.U)(e=>e.body.document)))}}function tE(e,t,n,r,s={}){er(n);let i=s.extract||void 0;i&&!i.length&&(i=["none"]);let o=e.config(),a=!(typeof File>"u")&&r instanceof File?Object.assign({filename:!1===s.preserveFilename?void 0:r.name,contentType:r.type},s):s,{tag:u,label:c,title:l,description:d,creditLine:h,filename:f,source:p}=a,y=o.resource?.type==="media-library",g=y?{title:l,filename:f}:{label:c,title:l,description:d,filename:f,meta:i,creditLine:h};return p&&!y&&(g.sourceId=p.id,g.sourceName=p.name,g.sourceUrl=p.url),td(e,t,{tag:u,method:"POST",timeout:a.timeout||0,uri:function(e,t){let n="image"===t?"images":"files",r=e.resource;if(r){let{type:e,id:t}=r;switch(e){case"dataset":throw Error("Assets are not supported for dataset resources, yet. Configure the client with `{projectId: <projectId>, dataset: <datasetId>}` instead.");case"canvas":return`/canvases/${t}/assets/${n}`;case"media-library":return`/media-libraries/${t}/upload`;case"dashboard":return`/dashboards/${t}/assets/${n}`;default:throw Error(`Unsupported resource type: ${e.toString()}`)}}let s=ed(e);return`assets/${n}/${s}`}(o,n),headers:a.contentType?{"Content-Type":a.contentType}:{},query:g,body:r})}var t$=(e,t)=>Object.keys(t).concat(Object.keys(e)).reduce((n,r)=>(n[r]=typeof e[r]>"u"?t[r]:e[r],n),{});let tS=(e,t)=>t.reduce((t,n)=>(typeof e[n]>"u"||(t[n]=e[n]),t),{}),tq=(0,u.P)(()=>n.e(247).then(n.t.bind(n,46247,19))).pipe((0,I.U)(({default:e})=>e),(0,p.d)(1));function tR(){return function(e){return e.pipe((0,y.K)((e,t)=>e instanceof ej?(0,g.z)((0,l.of)({type:"reconnect"}),(0,m.H)(1e3).pipe((0,d.z)(()=>t))):(0,v._)(()=>e)))}}let tk=["includePreviousRevision","includeResult","includeMutations","includeAllVersions","visibility","effectFormat","tag"],tj={includeResult:!0};function tT(e,t,n={}){let{url:r,token:s,withCredentials:i,requestTagPrefix:o,headers:a}=this.config(),u=n.tag&&o?[o,n.tag].join("."):n.tag,c={...t$(n,tj),tag:u},d=eH({query:e,params:t,options:{tag:u,...tS(c,tk)}}),h=`${r}${tf(this,"listen",d)}`;if(h.length>14800)return(0,v._)(()=>Error("Query too large for listener"));let f=c.events?c.events:["mutation"],p={};return i&&(p.withCredentials=!0),(s||a)&&(p.headers={},s&&(p.headers.Authorization=`Bearer ${s}`),a&&Object.assign(p.headers,a)),eC(()=>(typeof EventSource>"u"||p.headers?tq:(0,l.of)(EventSource)).pipe((0,I.U)(e=>new e(h,p))),f).pipe(tR(),(0,k.h)(e=>f.includes(e.type)),(0,I.U)(e=>({type:e.type,..."data"in e?e.data:{}})))}let tO="2021-03-25";class tA{#e;constructor(e){this.#e=e}events({includeDrafts:e=!1,tag:t}={}){var n,r,s;ep("live",this.#e.config());let{projectId:i,apiVersion:o,token:u,withCredentials:c,requestTagPrefix:h,headers:f}=this.#e.config(),p=o.replace(/^v/,"");if("X"!==p&&p<tO)throw Error(`The live events API requires API version ${tO} or later. The current API version is ${p}. Please update your API version to use this feature.`);if(e&&!u&&!c)throw Error("The live events API requires a token or withCredentials when 'includeDrafts: true'. Please update your client configuration. The token should have the lowest possible access role.");let g=tf(this.#e,"live/events"),m=new URL(this.#e.getUrl(g,!1)),v=t&&h?[h,t].join("."):t;v&&m.searchParams.set("tag",v),e&&m.searchParams.set("includeDrafts","true");let E={};e&&c&&(E.withCredentials=!0),(e&&u||f)&&(E.headers={},e&&u&&(E.headers.Authorization=`Bearer ${u}`),f&&Object.assign(E.headers,f));let $=`${m.href}::${JSON.stringify(E)}`,S=tP.get($);if(S)return S;let q=eC(()=>(typeof EventSource>"u"||E.headers?tq:(0,l.of)(EventSource)).pipe((0,I.U)(e=>new e(m.href,E))),["message","restart","welcome","reconnect","goaway"]),R=(r={method:"OPTIONS",mode:"cors",credentials:E.withCredentials?"include":"omit",headers:E.headers},new a.y(e=>{let t=new AbortController,n=t.signal;return fetch(m,{...r,signal:t.signal}).then(t=>{e.next(t),e.complete()},t=>{n.aborted||e.error(t)}),()=>t.abort()})).pipe((0,y.K)(()=>{throw new J({projectId:i})})),k=q.pipe(tR(),(0,d.z)(e=>"reconnect"===e.type?R.pipe((0,d.z)(()=>(0,l.of)(e))):(0,l.of)(e)),(0,y.K)(e=>R.pipe((0,d.z)(()=>{throw e}))),(0,I.U)(e=>{if("message"===e.type){let{data:t,...n}=e;return{...n,tags:t.tags}}return e})).pipe((0,w.x)(()=>tP.delete($)),(s="function"==typeof(n={predicate:e=>"welcome"===e.type})?{predicate:n}:n,e=>{let t,n=!1,{predicate:r,...i}=s,o=e.pipe((0,b.b)(e=>{s.predicate(e)&&(n=!0,t=e)}),(0,w.x)(()=>{n=!1,t=void 0}),(0,_.B)(i)),u=new a.y(e=>{n&&e.next(t),e.complete()});return(0,x.T)(o,u)}));return tP.set($,k),k}}let tP=new Map;class tD{#e;#t;constructor(e,t){this.#e=e,this.#t=t}create(e,t){return tM(this.#e,this.#t,"PUT",e,t)}edit(e,t){return tM(this.#e,this.#t,"PATCH",e,t)}delete(e){return tM(this.#e,this.#t,"DELETE",e)}list(){ep("dataset",this.#e.config());let e=this.#e.config(),t=e.projectId,n="/datasets";return!1===e.useProjectHostname&&(n=`/projects/${t}/datasets`),th(this.#e,this.#t,{uri:n,tag:null})}}class tC{#e;#t;constructor(e,t){this.#e=e,this.#t=t}create(e,t){return ep("dataset",this.#e.config()),(0,f.n)(tM(this.#e,this.#t,"PUT",e,t))}edit(e,t){return ep("dataset",this.#e.config()),(0,f.n)(tM(this.#e,this.#t,"PATCH",e,t))}delete(e){return ep("dataset",this.#e.config()),(0,f.n)(tM(this.#e,this.#t,"DELETE",e))}list(){ep("dataset",this.#e.config());let e=this.#e.config(),t=e.projectId,n="/datasets";return!1===e.useProjectHostname&&(n=`/projects/${t}/datasets`),(0,f.n)(th(this.#e,this.#t,{uri:n,tag:null}))}}function tM(e,t,n,r,s){return ep("dataset",e.config()),et(r),th(e,t,{method:n,uri:`/datasets/${r}`,body:s,tag:null})}class tU{#e;#t;constructor(e,t){this.#e=e,this.#t=t}getPlaybackInfo(e,t={}){let n=this.#e.config(),r=(n.resource||n["~experimental_resource"])?.id,{instanceId:s,libraryId:i}=function(e){let t="object"==typeof e&&"_ref"in e?e._ref:e,n=tL.exec(t);if(n){let[,e,t]=n;return{libraryId:e,instanceId:t}}if("string"==typeof e&&e.startsWith("video-"))return{instanceId:e};throw Error(`Invalid video asset instance identifier "${t}": must be a valid video instance id or a Global Dataset Reference (GDR) to the video asset in the Media Library`)}(e),o=i||r;if(!o)throw Error("Could not determine Media Library ID - you need to provide a valid Media Library ID in the client config or a Media Library GDR");let a=`/media-libraries/${o}/video/${s}/playback-info`,u=function(e){let t={};if(e.transformations){let{thumbnail:n,animated:r,storyboard:s}=e.transformations;n&&(n.width&&(t.thumbnailWidth=n.width),n.height&&(t.thumbnailHeight=n.height),void 0!==n.time&&(t.thumbnailTime=n.time),n.fit&&(t.thumbnailFit=n.fit),n.format&&(t.thumbnailFormat=n.format)),r&&(r.width&&(t.animatedWidth=r.width),r.height&&(t.animatedHeight=r.height),void 0!==r.start&&(t.animatedStart=r.start),void 0!==r.end&&(t.animatedEnd=r.end),r.fps&&(t.animatedFps=r.fps),r.format&&(t.animatedFormat=r.format)),s&&s.format&&(t.storyboardFormat=s.format)}return e.expiration&&(t.expiration=e.expiration),t}(t);return th(this.#e,this.#t,{method:"GET",uri:a,query:u})}}class tV{#e;#t;constructor(e,t){this.#e=e,this.#t=t}getPlaybackInfo(e,t={}){return(0,f.n)(new tU(this.#e.observable,this.#t).getPlaybackInfo(e,t))}}let tL=/^media-library:(ml[^:]+):([^:]+)$/;class tN{#e;#t;constructor(e,t){this.#e=e,this.#t=t}list(e){let t={};return e?.includeMembers===!1&&(t.includeMembers="false"),e?.organizationId&&(t.organizationId=e.organizationId),th(this.#e,this.#t,{uri:"/projects",query:t})}getById(e){return th(this.#e,this.#t,{uri:`/projects/${e}`})}}class tz{#e;#t;constructor(e,t){this.#e=e,this.#t=t}list(e){let t={};return e?.includeMembers===!1&&(t.includeMembers="false"),e?.organizationId&&(t.organizationId=e.organizationId),(0,f.n)(th(this.#e,this.#t,{uri:"/projects",query:t}))}getById(e){return(0,f.n)(th(this.#e,this.#t,{uri:`/projects/${e}`}))}}let tW=((e,t=21)=>V(e,t,U))("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",8),tB=(e,t)=>t?D(e,t):P(e);function tG(e,{releaseId:t,publishedId:n,document:r}){if(n&&r._id){let e=tB(n,t);return ec(e,r),e}if(r._id){let n=O(r._id),s=A(r._id);if(!n&&!s)throw Error(`\`${e}()\` requires a document with an \`_id\` that is a version or draft ID`);if(t){if(n)throw Error(`\`${e}()\` was called with a document ID (\`${r._id}\`) that is a draft ID, but a release ID (\`${t}\`) was also provided.`);let s=C(r._id);if(s!==t)throw Error(`\`${e}()\` was called with a document ID (\`${r._id}\`) that is a version ID, but the release ID (\`${t}\`) does not match the document's version ID (\`${s}\`).`)}return r._id}if(n)return tB(n,t);throw Error(`\`${e}()\` requires either a publishedId or a document with an \`_id\``)}let tH=(e,t)=>{if("object"==typeof e&&null!==e&&("releaseId"in e||"metadata"in e)){let{releaseId:n=tW(),metadata:r={}}=e;return[n,r,t]}return[tW(),{},e]},tF=(e,t)=>{let[n,r,s]=tH(e,t);return{action:{actionType:"sanity.action.release.create",releaseId:n,metadata:{...r,releaseType:r.releaseType||"undecided"}},options:s}};class tJ{#e;#t;constructor(e,t){this.#e=e,this.#t=t}get({releaseId:e},t){return eQ(this.#e,this.#t,`_.releases.${e}`,t)}create(e,t){let{action:n,options:r}=tF(e,t),{releaseId:s,metadata:i}=n;return tt(this.#e,this.#t,n,r).pipe((0,I.U)(e=>({...e,releaseId:s,metadata:i})))}edit({releaseId:e,patch:t},n){return tt(this.#e,this.#t,{actionType:"sanity.action.release.edit",releaseId:e,patch:t},n)}publish({releaseId:e},t){return tt(this.#e,this.#t,{actionType:"sanity.action.release.publish",releaseId:e},t)}archive({releaseId:e},t){return tt(this.#e,this.#t,{actionType:"sanity.action.release.archive",releaseId:e},t)}unarchive({releaseId:e},t){return tt(this.#e,this.#t,{actionType:"sanity.action.release.unarchive",releaseId:e},t)}schedule({releaseId:e,publishAt:t},n){return tt(this.#e,this.#t,{actionType:"sanity.action.release.schedule",releaseId:e,publishAt:t},n)}unschedule({releaseId:e},t){return tt(this.#e,this.#t,{actionType:"sanity.action.release.unschedule",releaseId:e},t)}delete({releaseId:e},t){return tt(this.#e,this.#t,{actionType:"sanity.action.release.delete",releaseId:e},t)}fetchDocuments({releaseId:e},t){return e1(this.#e,this.#t,e,t)}}class tY{#e;#t;constructor(e,t){this.#e=e,this.#t=t}get({releaseId:e},t){return(0,f.n)(eQ(this.#e,this.#t,`_.releases.${e}`,t))}async create(e,t){let{action:n,options:r}=tF(e,t),{releaseId:s,metadata:i}=n;return{...await (0,f.n)(tt(this.#e,this.#t,n,r)),releaseId:s,metadata:i}}edit({releaseId:e,patch:t},n){return(0,f.n)(tt(this.#e,this.#t,{actionType:"sanity.action.release.edit",releaseId:e,patch:t},n))}publish({releaseId:e},t){return(0,f.n)(tt(this.#e,this.#t,{actionType:"sanity.action.release.publish",releaseId:e},t))}archive({releaseId:e},t){return(0,f.n)(tt(this.#e,this.#t,{actionType:"sanity.action.release.archive",releaseId:e},t))}unarchive({releaseId:e},t){return(0,f.n)(tt(this.#e,this.#t,{actionType:"sanity.action.release.unarchive",releaseId:e},t))}schedule({releaseId:e,publishAt:t},n){return(0,f.n)(tt(this.#e,this.#t,{actionType:"sanity.action.release.schedule",releaseId:e,publishAt:t},n))}unschedule({releaseId:e},t){return(0,f.n)(tt(this.#e,this.#t,{actionType:"sanity.action.release.unschedule",releaseId:e},t))}delete({releaseId:e},t){return(0,f.n)(tt(this.#e,this.#t,{actionType:"sanity.action.release.delete",releaseId:e},t))}fetchDocuments({releaseId:e},t){return(0,f.n)(e1(this.#e,this.#t,e,t))}}class tK{#e;#t;constructor(e,t){this.#e=e,this.#t=t}getById(e){return th(this.#e,this.#t,{uri:`/users/${e}`})}}class tX{#e;#t;constructor(e,t){this.#e=e,this.#t=t}getById(e){return(0,f.n)(th(this.#e,this.#t,{uri:`/users/${e}`}))}}class tZ{assets;datasets;live;mediaLibrary;projects;users;agent;releases;#n;#t;listen=tT;constructor(e,t=e$){this.config(t),this.#t=e,this.assets=new tx(this,this.#t),this.datasets=new tD(this,this.#t),this.live=new tA(this),this.mediaLibrary={video:new tU(this,this.#t)},this.projects=new tN(this,this.#t),this.users=new tK(this,this.#t),this.agent={action:new tw(this,this.#t)},this.releases=new tJ(this,this.#t)}clone(){return new tZ(this.#t,this.config())}config(e){if(void 0===e)return{...this.#n};if(this.#n&&!1===this.#n.allowReconfigure)throw Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.#n=ek(e,this.#n||{}),this}withConfig(e){let t=this.config();return new tZ(this.#t,{...t,...e,stega:{...t.stega||{},..."boolean"==typeof e?.stega?{enabled:e.stega}:e?.stega||{}}})}fetch(e,t,n){return eZ(this,this.#t,this.#n.stega,e,t,n)}getDocument(e,t){if(t?.includeAllVersions===!0)return eQ(this,this.#t,e,{...t,includeAllVersions:!0});let n={signal:t?.signal,tag:t?.tag,releaseId:t?.releaseId,...t&&"includeAllVersions"in t?{includeAllVersions:!1}:{}};return eQ(this,this.#t,e,n)}getDocuments(e,t){return e0(this,this.#t,e,t)}create(e,t){return tr(this,this.#t,e,"create",t)}createIfNotExists(e,t){return e5(this,this.#t,e,t)}createOrReplace(e,t){return e2(this,this.#t,e,t)}createVersion({document:e,publishedId:t,releaseId:n,baseId:r,ifBaseRevisionId:s},i){if(!e)return e3(this,this.#t,t,r,n,s,i);let o=tG("createVersion",{document:e,publishedId:t,releaseId:n}),a={...e,_id:o},u=t||M(e._id);return e7(this,this.#t,a,u,i)}delete(e,t){return e6(this,this.#t,e,t)}discardVersion({releaseId:e,publishedId:t},n,r){let s=tB(t,e);return e8(this,this.#t,s,n,r)}replaceVersion({document:e,publishedId:t,releaseId:n},r){let s=tG("replaceVersion",{document:e,publishedId:t,releaseId:n}),i={...e,_id:s};return e4(this,this.#t,i,r)}unpublishVersion({releaseId:e,publishedId:t},n){let r=D(t,e);return e9(this,this.#t,r,t,n)}mutate(e,t){return te(this,this.#t,e,t)}patch(e,t){return new eL(e,t,this)}transaction(e){return new eG(e,this)}action(e,t){return tt(this,this.#t,e,t)}request(e){return th(this,this.#t,e)}getUrl(e,t){return tp(this,e,t)}getDataUrl(e,t){return tf(this,e,t)}}class tQ{assets;datasets;live;mediaLibrary;projects;users;agent;releases;observable;#n;#t;listen=tT;constructor(e,t=e$){this.config(t),this.#t=e,this.assets=new tI(this,this.#t),this.datasets=new tC(this,this.#t),this.live=new tA(this),this.mediaLibrary={video:new tV(this,this.#t)},this.projects=new tz(this,this.#t),this.users=new tX(this,this.#t),this.agent={action:new t_(this,this.#t)},this.releases=new tY(this,this.#t),this.observable=new tZ(e,t)}clone(){return new tQ(this.#t,this.config())}config(e){if(void 0===e)return{...this.#n};if(this.#n&&!1===this.#n.allowReconfigure)throw Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(e),this.#n=ek(e,this.#n||{}),this}withConfig(e){let t=this.config();return new tQ(this.#t,{...t,...e,stega:{...t.stega||{},..."boolean"==typeof e?.stega?{enabled:e.stega}:e?.stega||{}}})}fetch(e,t,n){return(0,f.n)(eZ(this,this.#t,this.#n.stega,e,t,n))}getDocument(e,t){if(t?.includeAllVersions===!0)return(0,f.n)(eQ(this,this.#t,e,{...t,includeAllVersions:!0}));let n={signal:t?.signal,tag:t?.tag,releaseId:t?.releaseId,...t&&"includeAllVersions"in t?{includeAllVersions:!1}:{}};return(0,f.n)(eQ(this,this.#t,e,n))}getDocuments(e,t){return(0,f.n)(e0(this,this.#t,e,t))}create(e,t){return(0,f.n)(tr(this,this.#t,e,"create",t))}createIfNotExists(e,t){return(0,f.n)(e5(this,this.#t,e,t))}createOrReplace(e,t){return(0,f.n)(e2(this,this.#t,e,t))}createVersion({document:e,publishedId:t,releaseId:n,baseId:r,ifBaseRevisionId:s},i){if(!e)return S(e3(this,this.#t,t,r,n,s,i));let o=tG("createVersion",{document:e,publishedId:t,releaseId:n}),a={...e,_id:o},u=t||M(e._id);return S(e7(this,this.#t,a,u,i))}delete(e,t){return(0,f.n)(e6(this,this.#t,e,t))}discardVersion({releaseId:e,publishedId:t},n,r){let s=tB(t,e);return(0,f.n)(e8(this,this.#t,s,n,r))}replaceVersion({document:e,publishedId:t,releaseId:n},r){let s=tG("replaceVersion",{document:e,publishedId:t,releaseId:n}),i={...e,_id:s};return S(e4(this,this.#t,i,r))}unpublishVersion({releaseId:e,publishedId:t},n){let r=D(t,e);return(0,f.n)(e9(this,this.#t,r,t,n))}mutate(e,t){return(0,f.n)(te(this,this.#t,e,t))}patch(e,t){return new eN(e,t,this)}transaction(e){return new eB(e,this)}action(e,t){return(0,f.n)(tt(this,this.#t,e,t))}request(e){return(0,f.n)(th(this,this.#t,e))}dataRequest(e,t,n){return(0,f.n)(tn(this,this.#t,e,t,n))}getUrl(e,t){return tp(this,e,t)}getDataUrl(e,t){return tf(this,e,t)}}let t0={requester:K(r=[]),createClient:e=>{let t=K(r,{ignoreWarnings:e.ignoreWarnings});return new tQ((n,r)=>(r||t)({maxRedirects:0,maxRetries:e.maxRetries,retryDelay:e.retryDelay,lineage:e.lineage,...n}),e)}},t1=(t0.requester,t0.createClient);var t5=n(25096),t2=n(74951),t7=n(30166),t3=n(99376),t6=n(2265),t8=n(52141),t4=n(35992);let t9=(0,t7.default)(()=>n.e(803).then(n.bind(n,11803)),{loadableGenerated:{webpack:()=>[require.resolveWeak("../_chunks-es/PresentationComlink.js")]},ssr:!1}),ne=(0,t7.default)(()=>n.e(122).then(n.bind(n,98122)),{loadableGenerated:{webpack:()=>[require.resolveWeak("../_chunks-es/RefreshOnMount.js")]},ssr:!1}),nt=(0,t7.default)(()=>n.e(313).then(n.bind(n,21313)),{loadableGenerated:{webpack:()=>[require.resolveWeak("../_chunks-es/RefreshOnFocus.js")]},ssr:!1}),nn=(0,t7.default)(()=>n.e(153).then(n.bind(n,10153)),{loadableGenerated:{webpack:()=>[require.resolveWeak("../_chunks-es/RefreshOnReconnect.js")]},ssr:!1});function nr(e){var t;e instanceof J?console.warn("Sanity Live is unable to connect to the Sanity API as the current origin - ".concat(window.origin," - is not in the list of allowed CORS origins for this Sanity Project."),e.addOriginUrl&&"Add it here:",null===(t=e.addOriginUrl)||void 0===t?void 0:t.toString()):console.error(e)}function ns(e,t){t?console.warn("Sanity Live connection closed, switching to long polling set to a interval of",t/1e3,"seconds and the server gave this reason:",e.reason):console.error("Sanity Live connection closed, automatic revalidation is disabled, the server gave this reason:",e.reason)}function ni(e){let{projectId:t,dataset:n,apiHost:r,apiVersion:i,useProjectHostname:o,token:a,requestTagPrefix:u,draftModeEnabled:c,draftModePerspective:l,refreshOnMount:d=!1,refreshOnFocus:h=!c&&(typeof window>"u"||window.self===window.top),refreshOnReconnect:f=!0,intervalOnGoAway:p=3e4,requestTag:y="next-loader.live",onError:g=nr,onGoAway:m=ns,revalidateSyncTags:v=t5.n}=e,b=(0,t6.useMemo)(()=>t1({projectId:t,dataset:n,apiHost:r,apiVersion:i,useProjectHostname:o,ignoreBrowserTokenWarning:!0,token:a,useCdn:!1,requestTagPrefix:u}),[r,i,n,t,u,a,o]),[w,_]=(0,t6.useState)(!1),x=(0,t3.useRouter)(),I=(0,t8.i)(e=>{"message"===e.type?v(e.tags):"restart"===e.type||"reconnect"===e.type?x.refresh():"goaway"===e.type&&(m(e,p),_(p))});(0,t6.useEffect)(()=>{let e=b.live.events({includeDrafts:!!a,tag:y}).subscribe({next:I,error:e=>{g(e)}});return()=>e.unsubscribe()},[b.live,g,y,a]),(0,t6.useEffect)(()=>{c&&l?(0,t4.Bk)(l):(0,t4.Bk)("unknown")},[c,l]);let[E,$]=(0,t6.useState)(!1);(0,t6.useEffect)(()=>{if(!(0,t2.Ig)()){if(c&&a){(0,t4.Uw)("live");return}if(c){(0,t4.Uw)("static");return}(0,t4.Uw)("unknown")}},[c,a]),(0,t6.useEffect)(()=>{if(!(0,t2.Ig)())return;let e=new AbortController,t=setTimeout(()=>(0,t4.Uw)("live"),3e3);return window.addEventListener("message",n=>{let{data:r}=n;r&&"object"==typeof r&&"domain"in r&&"sanity/channels"===r.domain&&"from"in r&&"presentation"===r.from&&(clearTimeout(t),(0,t4.Uw)((0,t2.Ax)()?"presentation-window":"presentation-iframe"),$(!0),e.abort())},{signal:e.signal}),()=>{clearTimeout(t),e.abort()}},[]);let S=(0,t6.useRef)(void 0);return(0,t6.useEffect)(()=>{if(c)return clearTimeout(S.current),()=>{S.current=setTimeout(()=>{console.warn("Sanity Live: Draft mode was enabled, but is now being disabled")})}},[c]),(0,t6.useEffect)(()=>{if(!w)return;let e=setInterval(()=>x.refresh(),w);return()=>clearInterval(e)},[w,x]),(0,s.jsxs)(s.Fragment,{children:[c&&E&&(0,s.jsx)(t9,{projectId:t,dataset:n,draftModeEnabled:c,draftModePerspective:l}),!c&&d&&(0,s.jsx)(ne,{}),!c&&h&&(0,s.jsx)(nt,{}),!c&&f&&(0,s.jsx)(nn,{})]})}ni.displayName="SanityLive"},25096:function(e,t,n){n.d(t,{N:function(){return s},n:function(){return i}}),n(83079);var r=n(12119),s=(0,r.$)("771348e7880426901a37abe2fb83378ed4fea828"),i=(0,r.$)("5be35ca6c329ab904b1a5f4dc2be4ec6465eecda")},38805:function(e,t,n){function r(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}n.d(t,{NG:function(){return u},Uy:function(){return r}});var s={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},i={0:8203,1:8204,2:8205,3:65279};[,,,,].fill(String.fromCodePoint(i[0])).join(""),Object.fromEntries(Object.entries(i).map(e=>e.reverse())),Object.fromEntries(Object.entries(s).map(e=>e.reverse()));var o=`${Object.values(s).map(e=>`\\u{${e.toString(16)}}`).join("")}`,a=RegExp(`[${o}]{4,}`,"gu");function u(e){var t,n;return e&&JSON.parse({cleaned:(t=JSON.stringify(e)).replace(a,""),encoded:(null==(n=t.match(a))?void 0:n[0])||""}.cleaned)}},74951:function(e,t,n){n.d(t,{Ax:function(){return d},Ig:function(){return h},XP:function(){return c},el:function(){return l}});var r=n(6301);let s={"handshake/syn":r.bK,"handshake/syn-ack":r.Ol,"handshake/ack":r.ei,"channel/response":r.Ag,"channel/heartbeat":r.UE,"channel/disconnect":r.Hq,"overlay/focus":"visual-editing/focus","overlay/navigate":"visual-editing/navigate","overlay/toggle":"visual-editing/toggle","presentation/toggleOverlay":"presentation/toggle-overlay"},i={[r.bK]:"handshake/syn",[r.Ol]:"handshake/syn-ack",[r.ei]:"handshake/ack",[r.Ag]:"channel/response",[r.UE]:"channel/heartbeat",[r.Hq]:"channel/disconnect","visual-editing/focus":"overlay/focus","visual-editing/navigate":"overlay/navigate","visual-editing/toggle":"overlay/toggle","presentation/toggle-overlay":"presentation/toggleOverlay"},o=e=>{let{data:t}=e;return t&&"object"==typeof t&&"domain"in t&&"type"in t&&"from"in t&&"to"in t&&("sanity/channels"===t.domain&&(t.domain=r.yK),"overlays"===t.to&&(t.to="visual-editing"),"overlays"===t.from&&(t.from="visual-editing"),t.channelId=t.connectionId,delete t.connectionId,t.type=s[t.type]??t.type),e},a=e=>{let{channelId:t,...n}=e,s={...n,connectionId:t};return s.domain===r.yK&&(s.domain="sanity/channels"),"visual-editing"===s.to&&(s.to="overlays"),"visual-editing"===s.from&&(s.from="overlays"),s.type=i[s.type]??s.type,"channel/response"===s.type&&s.responseTo&&!s.data&&(s.data={responseTo:s.responseTo}),("handshake/syn"===s.type||"handshake/syn-ack"===s.type||"handshake/ack"===s.type)&&(s.data={id:s.connectionId}),s},u=({context:e},t)=>{let{sources:n,targetOrigin:r}=e,s=a(t.message);n.forEach(e=>{e.postMessage(s,{targetOrigin:r})})},c=()=>({listen:(0,r.F8)(o),requestMachine:(0,r.lB)().provide({actions:{"send message":u}})});function l(){return window.self!==window.top}function d(){return!!window.opener}function h(){return l()||d()}},76939:function(e,t,n){n.d(t,{default:function(){return o}});var r=n(57437),s=n(2265);let i=(0,s.lazy)(()=>Promise.all([n.e(150),n.e(797),n.e(331),n.e(689)]).then(n.bind(n,6958)));function o(e){return(0,r.jsx)(s.Suspense,{fallback:null,children:(0,r.jsx)(i,{...e})})}},52141:function(e,t,n){n.d(t,{i:function(){return a}});var r=n(2265);let s=r.createContext(!0);function i(){throw Error("A function wrapped in useEffectEvent can't be called during rendering.")}let o=()=>{try{return r.use(s)}catch{return!1}};function a(e){let t=r.useRef(i);return r.useInsertionEffect(()=>{t.current=e},[e]),(...e)=>(o()&&i(),(0,t.current)(...e))}}}]);